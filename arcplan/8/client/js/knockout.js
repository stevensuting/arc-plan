/*!
 * Knockout JavaScript library v3.3.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(){var DEBUG=!0;(function(undefined){var window=this||(0,eval)("this"),document=window.document,navigator=window.navigator,jQueryInstance=window.jQuery,JSON=window.JSON;(function(a){typeof define=="function"&&define.amd?define(["exports","require"],a):typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?a(module.exports||exports):a(window.ko={})})(function(a,b){function e(a,b){var c=a===null||typeof a in d;return c?a===b:!1}function f(a,b){var c;return function(){c||(c=setTimeout(function(){c=undefined,a()},b))}}function g(a,b){var c;return function(){clearTimeout(c),c=setTimeout(a,b)}}function h(a){var b=this;return a&&c.utils.objectForEach(a,function(a,d){var e=c.extenders[a];typeof e=="function"&&(b=e(b,d)||b)}),b}function p(a){c.bindingHandlers[a]={init:function(b,d,e,f,g){var h=function(){var b={};return b[a]=d(),b};return c.bindingHandlers.event.init.call(this,b,h,e,f,g)}}}function s(a,b,d,e){c.bindingHandlers[a]={init:function(a,f,g,h,i){var j,k;return c.computed(function(){var g=c.utils.unwrapObservable(f()),h=!d!=!g,l=!k,m=l||b||h!==j;m&&(l&&c.computedContext.getDependenciesCount()&&(k=c.utils.cloneNodes(c.virtualElements.childNodes(a),!0)),h?(l||c.virtualElements.setDomNodeChildren(a,c.utils.cloneNodes(k)),c.applyBindingsToDescendants(e?e(i,g):i,a)):c.virtualElements.emptyNode(a),j=h)},null,{disposeWhenNodeIsRemoved:a}),{controlsDescendantBindings:!0}}},c.expressionRewriting.bindingRewriteValidators[a]=!1,c.virtualElements.allowedBindings[a]=!0}var c=typeof a!="undefined"?a:{};c.exportSymbol=function(a,b){var d=a.split("."),e=c;for(var f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=b},c.exportProperty=function(a,b,c){a[b]=c},c.version="3.3.0",c.exportSymbol("version",c.version),c.utils=function(){function a(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function b(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,b){return a.__proto__=b,a}function m(a,b){if(c.utils.tagNameLower(a)!=="input"||!a.type)return!1;if(b.toLowerCase()!="click")return!1;var d=a.type;return d=="checkbox"||d=="radio"}function o(a,b,d){var e;b&&(typeof a.classList=="object"?(e=a.classList[d?"add":"remove"],c.utils.arrayForEach(b.match(n),function(b){e.call(a.classList,b)})):typeof a.className["baseVal"]=="string"?p(a.className,"baseVal",b,d):p(a,"className",b,d))}function p(a,b,d,e){var f=a[b].match(n)||[];c.utils.arrayForEach(d.match(n),function(a){c.utils.addOrRemoveItem(f,a,e)}),a[b]=f.join(" ")}var e={__proto__:[]}instanceof Array,f={},g={},h=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";f[h]=["keyup","keydown","keypress"],f.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],a(f,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)g[b[c]]=a});var i={propertychange:!0},j=document&&function(){var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");while(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",c[0]);return a>4?a:undefined}(),k=j===6,l=j===7,n=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},arrayIndexOf:function(a,b){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},arrayRemoveItem:function(a,b){var d=c.utils.arrayIndexOf(a,b);d>0?a.splice(d,1):d===0&&a.shift()},arrayGetDistinctValues:function(a){a=a||[];var b=[];for(var d=0,e=a.length;d<e;d++)c.utils.arrayIndexOf(b,a[d])<0&&b.push(a[d]);return b},arrayMap:function(a,b){a=a||[];var c=[];for(var d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},arrayFilter:function(a,b){a=a||[];var c=[];for(var d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},addOrRemoveItem:function(a,b,d){var e=c.utils.arrayIndexOf(c.utils.peekObservable(a),b);e<0?d&&a.push(b):d||a.splice(e,1)},canSetPrototype:e,extend:b,setPrototypeOf:d,setPrototypeOfOrExtend:e?d:b,objectForEach:a,objectMap:function(a,b){if(!a)return a;var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},emptyDomNode:function(a){while(a.firstChild)c.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(a){var b=c.utils.makeArray(a),d=b[0]&&b[0].ownerDocument||document,e=d.createElement("div");for(var f=0,g=b.length;f<g;f++)e.appendChild(c.cleanNode(b[f]));return e},cloneNodes:function(a,b){for(var d=0,e=a.length,f=[];d<e;d++){var g=a[d].cloneNode(!0);f.push(b?c.cleanNode(g):g)}return f},setDomNodeChildren:function(a,b){c.utils.emptyDomNode(a);if(b)for(var d=0,e=b.length;d<e;d++)a.appendChild(b[d])},replaceDomNodes:function(a,b){var d=a.nodeType?[a]:a;if(d.length>0){var e=d[0],f=e.parentNode;for(var g=0,h=b.length;g<h;g++)f.insertBefore(b[g],e);for(var g=0,h=d.length;g<h;g++)c.removeNode(d[g])}},fixUpContinuousNodeArray:function(a,b){if(a.length){b=b.nodeType===8&&b.parentNode||b;while(a.length&&a[0].parentNode!==b)a.splice(0,1);if(a.length>1){var c=a[0],d=a[a.length-1];a.length=0;while(c!==d){a.push(c),c=c.nextSibling;if(!c)return}a.push(d)}}return a},setOptionNodeSelectionState:function(a,b){j<7?a.setAttribute("selected",b):a.selected=b},stringTrim:function(a){return a===null||a===undefined?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(a,b){return a=a||"",b.length>a.length?!1:a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(a===b)return!0;if(a.nodeType===11)return!1;if(b.contains)return b.contains(a.nodeType===3?a.parentNode:a);if(b.compareDocumentPosition)return(b.compareDocumentPosition(a)&16)==16;while(a&&a!=b)a=a.parentNode;return!!a},domNodeIsAttachedToDocument:function(a){return c.utils.domNodeIsContainedBy(a,a.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(a){return!!c.utils.arrayFirst(a,c.utils.domNodeIsAttachedToDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(a,b,d){var e=j&&i[b];if(!e&&jQueryInstance)jQueryInstance(a).bind(b,d);else if(!e&&typeof a.addEventListener=="function")a.addEventListener(b,d,!1);else{if(typeof a.attachEvent=="undefined")throw new Error("Browser doesn't support addEventListener or attachEvent");var f=function(b){d.call(a,b)},g="on"+b;a.attachEvent(g,f),c.utils.domNodeDisposal.addDisposeCallback(a,function(){a.detachEvent(g,f)})}},triggerEvent:function(a,b){if(!a||!a.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var c=m(a,b);if(jQueryInstance&&!c)jQueryInstance(a).trigger(b);else if(typeof document.createEvent=="function"){if(typeof a.dispatchEvent!="function")throw new Error("The supplied element doesn't support dispatchEvent");var d=g[b]||"HTMLEvents",e=document.createEvent(d);e.initEvent(b,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(e)}else if(c&&a.click)a.click();else if(typeof a.fireEvent!="undefined")a.fireEvent("on"+b);else throw new Error("Browser doesn't support triggering events")},unwrapObservable:function(a){return c.isObservable(a)?a():a},peekObservable:function(a){return c.isObservable(a)?a.peek():a},toggleDomNodeCssClass:o,setTextContent:function(a,b){var d=c.utils.unwrapObservable(b);if(d===null||d===undefined)d="";var e=c.virtualElements.firstChild(a);!e||e.nodeType!=3||c.virtualElements.nextSibling(e)?c.virtualElements.setDomNodeChildren(a,[a.ownerDocument.createTextNode(d)]):e.data=d,c.utils.forceRefresh(a)},setElementName:function(a,b){a.name=b;if(j<=7)try{a.mergeAttributes(document.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){if(j>=9){var b=a.nodeType==1?a:a.parentNode;b.style&&(b.style.zoom=b.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(a){if(j){var b=a.style.width;a.style.width=0,a.style.width=b}},range:function(a,b){a=c.utils.unwrapObservable(a),b=c.utils.unwrapObservable(b);var d=[];for(var e=a;e<=b;e++)d.push(e);return d},makeArray:function(a){var b=[];for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b},isIe6:k,isIe7:l,ieVersion:j,getFormFields:function(a,b){var d=c.utils.makeArray(a.getElementsByTagName("input")).concat(c.utils.makeArray(a.getElementsByTagName("textarea"))),e=typeof b=="string"?function(a){return a.name===b}:function(a){return b.test(a.name)},f=[];for(var g=d.length-1;g>=0;g--)e(d[g])&&f.push(d[g]);return f},parseJson:function(a){if(typeof a=="string"){a=c.utils.stringTrim(a);if(a)return JSON&&JSON.parse?JSON.parse(a):(new Function("return "+a))()}return null},stringifyJson:function(a,b,d){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(c.utils.unwrapObservable(a),b,d)},postJson:function(b,d,e){e=e||{};var f=e.params||{},g=e.includeFields||this.fieldsIncludedWithJsonPost,h=b;if(typeof b=="object"&&c.utils.tagNameLower(b)==="form"){var i=b;h=i.action;for(var j=g.length-1;j>=0;j--){var k=c.utils.getFormFields(i,g[j]);for(var l=k.length-1;l>=0;l--)f[k[l].name]=k[l].value}}d=c.utils.unwrapObservable(d);var m=document.createElement("form");m.style.display="none",m.action=h,m.method="post";for(var n in d){var o=document.createElement("input");o.type="hidden",o.name=n,o.value=c.utils.stringifyJson(c.utils.unwrapObservable(d[n])),m.appendChild(o)}a(f,function(a,b){var c=document.createElement("input");c.type="hidden",c.name=a,c.value=b,m.appendChild(c)}),document.body.appendChild(m),e.submitter?e.submitter(m):m.submit(),setTimeout(function(){m.parentNode.removeChild(m)},0)}}}(),c.exportSymbol("utils",c.utils),c.exportSymbol("utils.arrayForEach",c.utils.arrayForEach),c.exportSymbol("utils.arrayFirst",c.utils.arrayFirst),c.exportSymbol("utils.arrayFilter",c.utils.arrayFilter),c.exportSymbol("utils.arrayGetDistinctValues",c.utils.arrayGetDistinctValues),c.exportSymbol("utils.arrayIndexOf",c.utils.arrayIndexOf),c.exportSymbol("utils.arrayMap",c.utils.arrayMap),c.exportSymbol("utils.arrayPushAll",c.utils.arrayPushAll),c.exportSymbol("utils.arrayRemoveItem",c.utils.arrayRemoveItem),c.exportSymbol("utils.extend",c.utils.extend),c.exportSymbol("utils.fieldsIncludedWithJsonPost",c.utils.fieldsIncludedWithJsonPost),c.exportSymbol("utils.getFormFields",c.utils.getFormFields),c.exportSymbol("utils.peekObservable",c.utils.peekObservable),c.exportSymbol("utils.postJson",c.utils.postJson),c.exportSymbol("utils.parseJson",c.utils.parseJson),c.exportSymbol("utils.registerEventHandler",c.utils.registerEventHandler),c.exportSymbol("utils.stringifyJson",c.utils.stringifyJson),c.exportSymbol("utils.range",c.utils.range),c.exportSymbol("utils.toggleDomNodeCssClass",c.utils.toggleDomNodeCssClass),c.exportSymbol("utils.triggerEvent",c.utils.triggerEvent),c.exportSymbol("utils.unwrapObservable",c.utils.unwrapObservable),c.exportSymbol("utils.objectForEach",c.utils.objectForEach),c.exportSymbol("utils.addOrRemoveItem",c.utils.addOrRemoveItem),c.exportSymbol("utils.setTextContent",c.utils.setTextContent),c.exportSymbol("unwrap",c.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(arguments.length===1)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);return d.push.apply(d,arguments),b.apply(a,d)}}),c.utils.domData=new function(){function d(d,e){var f=d[b],g=f&&f!=="null"&&c[f];if(!g){if(!e)return undefined;f=d[b]="ko"+a++,c[f]={}}return c[f]}var a=0,b="__ko__"+(new Date).getTime(),c={};return{get:function(a,b){var c=d(a,!1);return c===undefined?undefined:c[b]},set:function(a,b,c){if(c===undefined&&d(a,!1)===undefined)return;var e=d(a,!0);e[b]=c},clear:function(a){var d=a[b];return d?(delete c[d],a[b]=null,!0):!1},nextKey:function(){return a++ +b}}},c.exportSymbol("utils.domData",c.utils.domData),c.exportSymbol("utils.domData.clear",c.utils.domData.clear),c.utils.domNodeDisposal=new function(){function e(b,d){var e=c.utils.domData.get(b,a);return e===undefined&&d&&(e=[],c.utils.domData.set(b,a,e)),e}function f(b){c.utils.domData.set(b,a,undefined)}function g(a){var b=e(a,!1);if(b){b=b.slice(0);for(var f=0;f<b.length;f++)b[f](a)}c.utils.domData.clear(a),c.utils.domNodeDisposal.cleanExternalData(a),d[a.nodeType]&&h(a)}function h(a){var b,c=a.firstChild;while(b=c)c=b.nextSibling,b.nodeType===8&&g(b)}var a=c.utils.domData.nextKey(),b={1:!0,8:!0,9:!0},d={1:!0,9:!0};return{addDisposeCallback:function(a,b){if(typeof b!="function")throw new Error("Callback must be a function");e(a,!0).push(b)},removeDisposeCallback:function(a,b){var d=e(a,!1);d&&(c.utils.arrayRemoveItem(d,b),d.length==0&&f(a))},cleanNode:function(a){if(b[a.nodeType]){g(a);if(d[a.nodeType]){var e=[];c.utils.arrayPushAll(e,a.getElementsByTagName("*"));for(var f=0,h=e.length;f<h;f++)g(e[f])}}return a},removeNode:function(a){c.cleanNode(a),a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(a){jQueryInstance&&typeof jQueryInstance["cleanData"]=="function"&&jQueryInstance.cleanData([a])}}},c.cleanNode=c.utils.domNodeDisposal.cleanNode,c.removeNode=c.utils.domNodeDisposal.removeNode,c.exportSymbol("cleanNode",c.cleanNode),c.exportSymbol("removeNode",c.removeNode),c.exportSymbol("utils.domNodeDisposal",c.utils.domNodeDisposal),c.exportSymbol("utils.domNodeDisposal.addDisposeCallback",c.utils.domNodeDisposal.addDisposeCallback),c.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",c.utils.domNodeDisposal.removeDisposeCallback),function(){function b(a,b){b||(b=document);var d=b.parentWindow||b.defaultView||window,e=c.utils.stringTrim(a).toLowerCase(),f=b.createElement("div"),g=e.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!e.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!e.indexOf("<td")||!e.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],h="ignored<div>"+g[1]+a+g[2]+"</div>";typeof d["innerShiv"]=="function"?f.appendChild(d.innerShiv(h)):f.innerHTML=h;while(g[0]--)f=f.lastChild;return c.utils.makeArray(f.lastChild.childNodes)}function d(a,b){if(jQueryInstance.parseHTML)return jQueryInstance.parseHTML(a,b)||[];var c=jQueryInstance.clean([a],b);if(c&&c[0]){var d=c[0];while(d.parentNode&&d.parentNode.nodeType!==11)d=d.parentNode;d.parentNode&&d.parentNode.removeChild(d)}return c}var a=/^(\s*)<!--(.*?)-->/;c.utils.parseHtmlFragment=function(a,c){return jQueryInstance?d(a,c):b(a,c)},c.utils.setHtml=function(a,b){c.utils.emptyDomNode(a),b=c.utils.unwrapObservable(b);if(b!==null&&b!==undefined){typeof b!="string"&&(b=b.toString());if(jQueryInstance)jQueryInstance(a).html(b);else{var d=c.utils.parseHtmlFragment(b,a.ownerDocument);for(var e=0;e<d.length;e++)a.appendChild(d[e])}}}}(),c.exportSymbol("utils.parseHtmlFragment",c.utils.parseHtmlFragment),c.exportSymbol("utils.setHtml",c.utils.setHtml),c.memoization=function(){function b(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function d(){return b()+b()}function e(a,b){if(!a)return;if(a.nodeType==8){var d=c.memoization.parseMemoText(a.nodeValue);d!=null&&b.push({domNode:a,memoId:d})}else if(a.nodeType==1)for(var f=0,g=a.childNodes,h=g.length;f<h;f++)e(g[f],b)}var a={};return{memoize:function(b){if(typeof b!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var c=d();return a[c]=b,"<!--[ko_memo:"+c+"]-->"},unmemoize:function(b,c){var d=a[b];if(d===undefined)throw new Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return d.apply(null,c||[]),!0}finally{delete a[b]}},unmemoizeDomNodeAndDescendants:function(a,b){var d=[];e(a,d);for(var f=0,g=d.length;f<g;f++){var h=d[f].domNode,i=[h];b&&c.utils.arrayPushAll(i,b),c.memoization.unmemoize(d[f].memoId,i),h.nodeValue="",h.parentNode&&h.parentNode.removeChild(h)}},parseMemoText:function(a){var b=a.match(/^\[ko_memo\:(.*?)\]$/);return b?b[1]:null}}}(),c.exportSymbol("memoization",c.memoization),c.exportSymbol("memoization.memoize",c.memoization.memoize),c.exportSymbol("memoization.unmemoize",c.memoization.unmemoize),c.exportSymbol("memoization.parseMemoText",c.memoization.parseMemoText),c.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",c.memoization.unmemoizeDomNodeAndDescendants),c.extenders={throttle:function(a,b){a.throttleEvaluation=b;var d=null;return c.dependentObservable({read:a,write:function(c){clearTimeout(d),d=setTimeout(function(){a(c)},b)}})},rateLimit:function(a,b){var c,d,e;typeof b=="number"?c=b:(c=b.timeout,d=b.method),e=d=="notifyWhenChangesStop"?g:f,a.limit(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer=b=="always"?null:e}};var d={"undefined":1,"boolean":1,number:1,string:1};c.exportSymbol("extenders",c.extenders),c.subscription=function(a,b,d){this._target=a,this.callback=b,this.disposeCallback=d,this.isDisposed=!1,c.exportProperty(this,"dispose",this.dispose)},c.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},c.subscribable=function(){c.utils.setPrototypeOfOrExtend(this,c.subscribable.fn),this._subscriptions={},this._versionNumber=1};var i="change",j={subscribe:function(a,b,d){var e=this;d=d||i;var f=b?a.bind(b):a,g=new c.subscription(e,f,function(){c.utils.arrayRemoveItem(e._subscriptions[d],g),e.afterSubscriptionRemove&&e.afterSubscriptionRemove(d)});return e.beforeSubscriptionAdd&&e.beforeSubscriptionAdd(d),e._subscriptions[d]||(e._subscriptions[d]=[]),e._subscriptions[d].push(g),g},notifySubscribers:function(a,b){b=b||i,b===i&&this.updateVersion();if(this.hasSubscriptionsForEvent(b))try{c.dependencyDetection.begin();for(var d=this._subscriptions[b].slice(0),e=0,f;f=d[e];++e)f.isDisposed||f.callback(a)}finally{c.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(a){return this.getVersion()!==a},updateVersion:function(){++this._versionNumber},limit:function(a){var b=this,d=c.isObservable(b),e,f,g,h="beforeChange";b._origNotifySubscribers||(b._origNotifySubscribers=b.notifySubscribers,b.notifySubscribers=function(a,c){!c||c===i?b._rateLimitedChange(a):c===h?b._rateLimitedBeforeChange(a):b._origNotifySubscribers(a,c)});var j=a(function(){d&&g===b&&(g=b()),e=!1,b.isDifferent(f,g)&&b._origNotifySubscribers(f=g)});b._rateLimitedChange=function(a){e=!0,g=a,j()},b._rateLimitedBeforeChange=function(a){e||(f=a,b._origNotifySubscribers(a,h))}},hasSubscriptionsForEvent:function(a){return this._subscriptions[a]&&this._subscriptions[a].length},getSubscriptionsCount:function(a){if(a)return this._subscriptions[a]&&this._subscriptions[a].length||0;var b=0;return c.utils.objectForEach(this._subscriptions,function(a,c){b+=c.length}),b},isDifferent:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:h};c.exportProperty(j,"subscribe",j.subscribe),c.exportProperty(j,"extend",j.extend),c.exportProperty(j,"getSubscriptionsCount",j.getSubscriptionsCount),c.utils.canSetPrototype&&c.utils.setPrototypeOf(j,Function.prototype),c.subscribable.fn=j,c.isSubscribable=function(a){return a!=null&&typeof a.subscribe=="function"&&typeof a["notifySubscribers"]=="function"},c.exportSymbol("subscribable",c.subscribable),c.exportSymbol("isSubscribable",c.isSubscribable),c.computedContext=c.dependencyDetection=function(){function e(){return++d}function f(c){a.push(b),b=c}function g(){b=a.pop()}var a=[],b,d=0;return{begin:f,end:g,registerDependency:function(a){if(b){if(!c.isSubscribable(a))throw new Error("Only subscribable things can act as dependencies");b.callback(a,a._id||(a._id=e()))}},ignore:function(a,b,c){try{return f(),a.apply(b,c||[])}finally{g()}},getDependenciesCount:function(){if(b)return b.computed.getDependenciesCount()},isInitial:function(){if(b)return b.isInitial}}}(),c.exportSymbol("computedContext",c.computedContext),c.exportSymbol("computedContext.getDependenciesCount",c.computedContext.getDependenciesCount),c.exportSymbol("computedContext.isInitial",c.computedContext.isInitial),c.exportSymbol("computedContext.isSleeping",c.computedContext.isSleeping),c.exportSymbol("ignoreDependencies",c.ignoreDependencies=c.dependencyDetection.ignore),c.observable=function(a){function d(){return arguments.length>0?(d.isDifferent(b,arguments[0])&&(d.valueWillMutate(),b=arguments[0],DEBUG&&(d._latestValue=b),d.valueHasMutated()),this):(c.dependencyDetection.registerDependency(d),b)}var b=a;return c.subscribable.call(d),c.utils.setPrototypeOfOrExtend(d,c.observable.fn),DEBUG&&(d._latestValue=b),d.peek=function(){return b},d.valueHasMutated=function(){d.notifySubscribers(b)},d.valueWillMutate=function(){d.notifySubscribers(b,"beforeChange")},c.exportProperty(d,"peek",d.peek),c.exportProperty(d,"valueHasMutated",d.valueHasMutated),c.exportProperty(d,"valueWillMutate",d.valueWillMutate),d},c.observable.fn={equalityComparer:e};var k=c.observable.protoProperty="__ko_proto__";c.observable.fn[k]=c.observable,c.utils.canSetPrototype&&c.utils.setPrototypeOf(c.observable.fn,c.subscribable.fn),c.hasPrototype=function(a,b){return a===null||a===undefined||a[k]===undefined?!1:a[k]===b?!0:c.hasPrototype(a[k],b)},c.isObservable=function(a){return c.hasPrototype(a,c.observable)},c.isWriteableObservable=function(a){return typeof a=="function"&&a[k]===c.observable?!0:typeof a=="function"&&a[k]===c.dependentObservable&&a.hasWriteFunction?!0:!1},c.exportSymbol("observable",c.observable),c.exportSymbol("isObservable",c.isObservable),c.exportSymbol("isWriteableObservable",c.isWriteableObservable),c.exportSymbol("isWritableObservable",c.isWriteableObservable),c.observableArray=function(a){a=a||[];if(typeof a=="object"&&"length"in a){var b=c.observable(a);return c.utils.setPrototypeOfOrExtend(b,c.observableArray.fn),b.extend({trackArrayChanges:!0})}throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},c.observableArray.fn={remove:function(a){var b=this.peek(),d=[],e=typeof a=="function"&&!c.isObservable(a)?a:function(b){return b===a};for(var f=0;f<b.length;f++){var g=b[f];e(g)&&(d.length===0&&this.valueWillMutate(),d.push(g),b.splice(f,1),f--)}return d.length&&this.valueHasMutated(),d},removeAll:function(a){if(a===undefined){var b=this.peek(),d=b.slice(0);return this.valueWillMutate(),b.splice(0,b.length),this.valueHasMutated(),d}return a?this.remove(function(b){return c.utils.arrayIndexOf(a,b)>=0}):[]},destroy:function(a){var b=this.peek(),d=typeof a=="function"&&!c.isObservable(a)?a:function(b){return b===a};this.valueWillMutate();for(var e=b.length-1;e>=0;e--){var f=b[e];d(f)&&(b[e]._destroy=!0)}this.valueHasMutated()},destroyAll:function(a){return a===undefined?this.destroy(function(){return!0}):a?this.destroy(function(b){return c.utils.arrayIndexOf(a,b)>=0}):[]},indexOf:function(a){var b=this();return c.utils.arrayIndexOf(b,a)},replace:function(a,b){var c=this.indexOf(a);c>=0&&(this.valueWillMutate(),this.peek()[c]=b,this.valueHasMutated())}},c.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(a){c.observableArray.fn[a]=function(){var b=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(b,a,arguments);var c=b[a].apply(b,arguments);return this.valueHasMutated(),c}}),c.utils.arrayForEach(["slice"],function(a){c.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}}),c.utils.canSetPrototype&&c.utils.setPrototypeOf(c.observableArray.fn,c.observable.fn),c.exportSymbol("observableArray",c.observableArray);var l="arrayChange";c.extenders.trackArrayChanges=function(a){function j(){if(b)return;b=!0;var c=a.notifySubscribers;a.notifySubscribers=function(a,b){return(!b||b===i)&&++f,c.apply(this,arguments)};var g=[].concat(a.peek()||[]);d=null,e=a.subscribe(function(b){b=[].concat(b||[]);if(a.hasSubscriptionsForEvent(l))var c=k(g,b);g=b,d=null,f=0,c&&c.length&&a.notifySubscribers(c,l)})}function k(a,b){if(!d||f>1)d=c.utils.compareArrays(a,b,{sparse:!0});return d}if(a.cacheDiffForKnownOperation)return;var b=!1,d=null,e,f=0,g=a.beforeSubscriptionAdd,h=a.afterSubscriptionRemove;a.beforeSubscriptionAdd=function(b){g&&g.call(a,b),b===l&&j()},a.afterSubscriptionRemove=function(c){h&&h.call(a,c),c===l&&!a.hasSubscriptionsForEvent(l)&&(e.dispose(),b=!1)},a.cacheDiffForKnownOperation=function(a,e,g){function l(a,b,c){return h[h.length]={status:a,value:b,index:c}}if(!b||f)return;var h=[],i=a.length,j=g.length,k=0;switch(e){case"push":k=i;case"unshift":for(var m=0;m<j;m++)l("added",g[m],k+m);break;case"pop":k=i-1;case"shift":i&&l("deleted",a[k],k);break;case"splice":var n=Math.min(Math.max(0,g[0]<0?i+g[0]:g[0]),i),o=j===1?i:Math.min(n+(g[1]||0),i),p=n+j-2,q=Math.max(o,p),r=[],s=[];for(var m=n,t=2;m<q;++m,++t)m<o&&s.push(l("deleted",a[m],m)),m<p&&r.push(l("added",g[t],m));c.utils.findMovesInArrayComparison(s,r);break;default:return}d=h}},c.computed=c.dependentObservable=function(a,b,d){function m(a,b,c){if(k&&b===r)throw Error("A 'pure' computed must not be called recursively");A[a]=c,c._order=B++,c._version=b.getVersion()}function n(){var a,b;for(a in A)if(A.hasOwnProperty(a)){b=A[a];if(b._target.hasChanged(b._version))return!0}}function o(){!l&&A&&c.utils.objectForEach(A,function(a,b){b.dispose&&b.dispose()}),A=null,B=0,i=!0,f=!1,l=!1}function p(){var a=r.throttleEvaluation;a&&a>=0?(clearTimeout(C),C=setTimeout(function(){q(!0)},a)):r._evalRateLimited?r._evalRateLimited():q(!0)}function q(a){if(g)return;if(i)return;if(y&&y()){if(!h){z();return}}else h=!1;g=!0;try{var d=A,n=B,o=k?undefined:!B;c.dependencyDetection.begin({callback:function(a,b){i||(n&&d[b]?(m(b,a,d[b]),delete d[b],--n):A[b]||m(b,a,l?{_target:a}:a.subscribe(p)))},computed:r,isInitial:o}),A={},B=0;try{var q=b?j.call(b):j()}finally{c.dependencyDetection.end(),n&&!l&&c.utils.objectForEach(d,function(a,b){b.dispose&&b.dispose()}),f=!1}r.isDifferent(e,q)&&(l||u(e,"beforeChange"),e=q,DEBUG&&(r._latestValue=e),l?r.updateVersion():a&&u(e)),o&&u(e,"awake")}finally{g=!1}B||z()}function r(){if(arguments.length>0){if(typeof v=="function")v.apply(b,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return c.dependencyDetection.registerDependency(r),(f||l&&n())&&q(),e}function s(){return(f&&!B||l&&n())&&q(),e}function t(){return f||B>0}function u(a,b){r.notifySubscribers(a,b)}var e,f=!0,g=!1,h=!1,i=!1,j=a,k=!1,l=!1;j&&typeof j=="object"?(d=j,j=d.read):(d=d||{},j||(j=d.read));if(typeof j!="function")throw new Error("Pass a function that returns the value of the ko.computed");var v=d.write,w=d.disposeWhenNodeIsRemoved||d.disposeWhenNodeIsRemoved||null,x=d.disposeWhen||d.disposeWhen,y=x,z=o,A={},B=0,C=null;b||(b=d.owner),c.subscribable.call(r),c.utils.setPrototypeOfOrExtend(r,c.dependentObservable.fn),r.peek=s,r.getDependenciesCount=function(){return B},r.hasWriteFunction=typeof v=="function",r.dispose=function(){z()},r.isActive=t;var D=r.limit;return r.limit=function(a){D.call(r,a),r._evalRateLimited=function(){r._rateLimitedBeforeChange(e),f=!0,r._rateLimitedChange(r)}},d.pure?(k=!0,l=!0,r.beforeSubscriptionAdd=function(a){if(!i&&l&&a=="change"){l=!1;if(f||n())A=null,B=0,f=!0,q();else{var b=[];c.utils.objectForEach(A,function(a,c){b[c._order]=a}),c.utils.arrayForEach(b,function(a,b){var c=A[a],d=c._target.subscribe(p);d._order=b,d._version=c._version,A[a]=d})}i||u(e,"awake")}},r.afterSubscriptionRemove=function(a){!i&&a=="change"&&!r.hasSubscriptionsForEvent("change")&&(c.utils.objectForEach(A,function(a,b){b.dispose&&(A[a]={_target:b._target,_order:b._order,_version:b._version},b.dispose())}),l=!0,u(undefined,"asleep"))},r._originalGetVersion=r.getVersion,r.getVersion=function(){return l&&(f||n())&&q(),r._originalGetVersion()}):d.deferEvaluation&&(r.beforeSubscriptionAdd=function(a){(a=="change"||a=="beforeChange")&&s()}),c.exportProperty(r,"peek",r.peek),c.exportProperty(r,"dispose",r.dispose),c.exportProperty(r,"isActive",r.isActive),c.exportProperty(r,"getDependenciesCount",r.getDependenciesCount),w&&(h=!0,w.nodeType&&(y=function(){return!c.utils.domNodeIsAttachedToDocument(w)||x&&x()})),!l&&!d.deferEvaluation&&q(),w&&t()&&w.nodeType&&(z=function(){c.utils.domNodeDisposal.removeDisposeCallback(w,z),o()},c.utils.domNodeDisposal.addDisposeCallback(w,z)),r},c.isComputed=function(a){return c.hasPrototype(a,c.dependentObservable)};var m=c.observable.protoProperty;c.dependentObservable[m]=c.observable,c.dependentObservable.fn={equalityComparer:e},c.dependentObservable.fn[m]=c.dependentObservable,c.utils.canSetPrototype&&c.utils.setPrototypeOf(c.dependentObservable.fn,c.subscribable.fn),c.exportSymbol("dependentObservable",c.dependentObservable),c.exportSymbol("computed",c.dependentObservable),c.exportSymbol("isComputed",c.isComputed),c.pureComputed=function(a,b){return typeof a=="function"?c.computed(a,b,{pure:!0}):(a=c.utils.extend({},a),a.pure=!0,c.computed(a,b))},c.exportSymbol("pureComputed",c.pureComputed),function(){function b(a,c,f){f=f||new e,a=c(a);var g=typeof a=="object"&&a!==null&&a!==undefined&&!(a instanceof Date)&&!(a instanceof String)&&!(a instanceof Number)&&!(a instanceof Boolean);if(!g)return a;var h=a instanceof Array?[]:{};return f.save(a,h),d(a,function(d){var e=c(a[d]);switch(typeof e){case"boolean":case"number":case"string":case"function":h[d]=e;break;case"object":case"undefined":var g=f.get(e);h[d]=g!==undefined?g:b(e,c,f)}}),h}function d(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);typeof a["toJSON"]=="function"&&b("toJSON")}else for(var d in a)b(d)}function e(){this.keys=[],this.values=[]}var a=10;c.toJS=function(d){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return b(d,function(b){for(var d=0;c.isObservable(b)&&d<a;d++)b=b();return b})},c.toJSON=function(a,b,d){var e=c.toJS(a);return c.utils.stringifyJson(e,b,d)},e.prototype={constructor:e,save:function(a,b){var d=c.utils.arrayIndexOf(this.keys,a);d>=0?this.values[d]=b:(this.keys.push(a),this.values.push(b))},get:function(a){var b=c.utils.arrayIndexOf(this.keys,a);return b>=0?this.values[b]:undefined}}}(),c.exportSymbol("toJS",c.toJS),c.exportSymbol("toJSON",c.toJSON),function(){var a="__ko__hasDomDataOptionValue__";c.selectExtensions={readValue:function(b){switch(c.utils.tagNameLower(b)){case"option":if(b[a]===!0)return c.utils.domData.get(b,c.bindingHandlers.options.optionValueDomDataKey);return c.utils.ieVersion<=7?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return b.selectedIndex>=0?c.selectExtensions.readValue(b.options[b.selectedIndex]):undefined;default:return b.value}},writeValue:function(b,d,e){switch(c.utils.tagNameLower(b)){case"option":switch(typeof d){case"string":c.utils.domData.set(b,c.bindingHandlers.options.optionValueDomDataKey,undefined),a in b&&delete b[a],b.value=d;break;default:c.utils.domData.set(b,c.bindingHandlers.options.optionValueDomDataKey,d),b[a]=!0,b.value=typeof d=="number"?d:""}break;case"select":if(d===""||d===null)d=undefined;var f=-1;for(var g=0,h=b.options.length,i;g<h;++g){i=c.selectExtensions.readValue(b.options[g]);if(i==d||i==""&&d===undefined){f=g;break}}if(e||f>=0||d===undefined&&b.size>1)b.selectedIndex=f;break;default:if(d===null||d===undefined)d="";b.value=d}}}}(),c.exportSymbol("selectExtensions",c.selectExtensions),c.exportSymbol("selectExtensions.readValue",c.selectExtensions.readValue),c.exportSymbol("selectExtensions.writeValue",c.selectExtensions.writeValue),c.expressionRewriting=function(){function d(d){if(c.utils.arrayIndexOf(a,d)>=0)return!1;var e=d.match(b);return e===null?!1:e[1]?"Object("+e[1]+")"+e[2]:d}function n(a){var b=c.utils.stringTrim(a);b.charCodeAt(0)===123&&(b=b.slice(1,-1));var d=[],e=b.match(k),f,g=[],h=0;if(e){e.push(",");for(var i=0,j;j=e[i];++i){var n=j.charCodeAt(0);if(n===44){if(h<=0){d.push(f&&g.length?{key:f,value:g.join("")}:{unknown:f||g.join("")}),f=h=0,g=[];continue}}else if(n===58){if(!h&&!f&&g.length===1){f=g.pop();continue}}else if(n===47&&i&&j.length>1){var o=e[i-1].match(l);o&&!m[o[0]]&&(b=b.substr(b.indexOf(j)+1),e=b.match(k),e.push(","),i=-1,j="/")}else n===40||n===123||n===91?++h:n===41||n===125||n===93?--h:!f&&!g.length&&(n===34||n===39)&&(j=j.slice(1,-1));g.push(j)}}return d}function p(a,b){function e(a,b){function k(c){return c&&c.preprocess?b=c.preprocess(b,a,e):!0}var j;if(!i){if(!k(c.getBindingHandler(a)))return;o[a]&&(j=d(b))&&g.push("'"+a+"':function(_z){"+j+"=_z}")}h&&(b="function(){return "+b+" }"),f.push("'"+a+"':"+b)}b=b||{};var f=[],g=[],h=b.valueAccessors,i=b.bindingParams,j=typeof a=="string"?n(a):a;return c.utils.arrayForEach(j,function(a){e(a.key||a.unknown,a.value)}),g.length&&e("_ko_property_writers","{"+g.join(",")+" }"),f.join(",")}var a=["true","false","null","undefined"],b=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e='"(?:[^"\\\\]|\\\\.)*"',f="'(?:[^'\\\\]|\\\\.)*'",g="/(?:[^/\\\\]|\\\\.)*/w*",h=",\"'{}()/:[\\]",i="[^\\s:,/][^"+h+"]*[^\\s"+h+"]",j="[^\\s]",k=RegExp(e+"|"+f+"|"+g+"|"+i+"|"+j,"g"),l=/[\])"'A-Za-z0-9_$]+$/,m={"in":1,"return":1,"typeof":1},o={};return{bindingRewriteValidators:[],twoWayBindings:o,parseObjectLiteral:n,preProcessBindings:p,keyValueArrayContainsKey:function(a,b){for(var c=0;c<a.length;c++)if(a[c]["key"]==b)return!0;return!1},writeValueToProperty:function(a,b,d,e,f){if(!a||!c.isObservable(a)){var g=b.get("_ko_property_writers");g&&g[d]&&g[d](e)}else c.isWriteableObservable(a)&&(!f||a.peek()!==e)&&a(e)}}}(),c.exportSymbol("expressionRewriting",c.expressionRewriting),c.exportSymbol("expressionRewriting.bindingRewriteValidators",c.expressionRewriting.bindingRewriteValidators),c.exportSymbol("expressionRewriting.parseObjectLiteral",c.expressionRewriting.parseObjectLiteral),c.exportSymbol("expressionRewriting.preProcessBindings",c.expressionRewriting.preProcessBindings),c.exportSymbol("expressionRewriting._twoWayBindings",c.expressionRewriting.twoWayBindings),c.exportSymbol("jsonExpressionRewriting",c.expressionRewriting),c.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",c.expressionRewriting.preProcessBindings),function(){function f(c){return c.nodeType==8&&b.test(a?c.text:c.nodeValue)}function g(b){return b.nodeType==8&&d.test(a?b.text:b.nodeValue)}function h(a,b){var c=a,d=1,e=[];while(c=c.nextSibling){if(g(c)){d--;if(d===0)return e}e.push(c),f(c)&&d++}if(!b)throw new Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function i(a,b){var c=h(a,b);return c?c.length>0?c[c.length-1].nextSibling:a.nextSibling:null}function j(a){var b=a.firstChild,c=null;if(b)do if(c)c.push(b);else if(f(b)){var d=i(b,!0);d?b=d:c=[b]}else g(b)&&(c=[b]);while(b=b.nextSibling);return c}var a=document&&document.createComment("test").text==="<!--test-->",b=a?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,d=a?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,e={ul:!0,ol:!0};c.virtualElements={allowedBindings:{},childNodes:function(a){return f(a)?h(a):a.childNodes},emptyNode:function(a){if(!f(a))c.utils.emptyDomNode(a);else{var b=c.virtualElements.childNodes(a);for(var d=0,e=b.length;d<e;d++)c.removeNode(b[d])}},setDomNodeChildren:function(a,b){if(!f(a))c.utils.setDomNodeChildren(a,b);else{c.virtualElements.emptyNode(a);var d=a.nextSibling;for(var e=0,g=b.length;e<g;e++)d.parentNode.insertBefore(b[e],d)}},prepend:function(a,b){f(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},insertAfter:function(a,b,d){d?f(a)?a.parentNode.insertBefore(b,d.nextSibling):d.nextSibling?a.insertBefore(b,d.nextSibling):a.appendChild(b):c.virtualElements.prepend(a,b)},firstChild:function(a){return f(a)?!a.nextSibling||g(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){return f(a)&&(a=i(a)),a.nextSibling&&g(a.nextSibling)?null:a.nextSibling},hasBindingValue:f,virtualNodeBindingValue:function(c){var d=(a?c.text:c.nodeValue).match(b);return d?d[1]:null},normaliseVirtualElementDomStructure:function(a){if(!e[c.utils.tagNameLower(a)])return;var b=a.firstChild;if(b)do if(b.nodeType===1){var d=j(b);if(d){var f=b.nextSibling;for(var g=0;g<d.length;g++)f?a.insertBefore(d[g],f):a.appendChild(d[g])}}while(b=b.nextSibling)}}}(),c.exportSymbol("virtualElements",c.virtualElements),c.exportSymbol("virtualElements.allowedBindings",c.virtualElements.allowedBindings),c.exportSymbol("virtualElements.emptyNode",c.virtualElements.emptyNode),c.exportSymbol("virtualElements.insertAfter",c.virtualElements.insertAfter),c.exportSymbol("virtualElements.prepend",c.virtualElements.prepend),c.exportSymbol("virtualElements.setDomNodeChildren",c.virtualElements.setDomNodeChildren),function(){function b(a,b,c){var e=a+(c&&c.valueAccessors||"");return b[e]||(b[e]=d(a,c))}function d(a,b){var d=c.expressionRewriting.preProcessBindings(a,b),e="with($context){with($data||{}){return{"+d+"}}}";return new Function("$context","$element",e)}var a="data-bind";c.bindingProvider=function(){this.bindingCache={}},c.utils.extend(c.bindingProvider.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return b.getAttribute(a)!=null||c.components.getComponentNameForNode(b);case 8:return c.virtualElements.hasBindingValue(b);default:return!1}},getBindings:function(a,b){var d=this.getBindingsString(a,b),e=d?this.parseBindingsString(d,b,a):null;return c.components.addBindingsForCustomElement(e,a,b,!1)},getBindingAccessors:function(a,b){var d=this.getBindingsString(a,b),e=d?this.parseBindingsString(d,b,a,{valueAccessors:!0}):null;return c.components.addBindingsForCustomElement(e,a,b,!0)},getBindingsString:function(b,d){switch(b.nodeType){case 1:return b.getAttribute(a);case 8:return c.virtualElements.virtualNodeBindingValue(b);default:return null}},parseBindingsString:function(a,c,d,e){try{var f=b(a,this.bindingCache,e);return f(c,d)}catch(g){throw g.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+g.message,g}}}),c.bindingProvider.instance=new c.bindingProvider}(),c.exportSymbol("bindingProvider",c.bindingProvider),function(){function b(a){return function(){return a}}function d(a){return a()}function e(a){return c.utils.objectMap(c.dependencyDetection.ignore(a),function(b,c){return function(){return a()[c]}})}function f(a,d,f){return typeof a=="function"?e(a.bind(null,d,f)):c.utils.objectMap(a,b)}function g(a,b){return e(this.getBindings.bind(this,a,b))}function h(a){var b=c.virtualElements.allowedBindings[a];if(!b)throw new Error("The binding '"+a+"' cannot be used with virtual elements")}function i(a,b,d){var e,f=c.virtualElements.firstChild(b),g=c.bindingProvider.instance,h=g.preprocessNode;if(h){while(e=f)f=c.virtualElements.nextSibling(e),h.call(g,e);f=c.virtualElements.firstChild(b)}while(e=f)f=c.virtualElements.nextSibling(e),j(a,e,d)}function j(b,d,e){var f=!0,g=d.nodeType===1;g&&c.virtualElements.normaliseVirtualElementDomStructure(d);var h=g&&e||c.bindingProvider.instance.nodeHasBindings(d);h&&(f=m(d,null,b,e).shouldBindDescendants),f&&!a[c.utils.tagNameLower(d)]&&i(b,d,!g)}function l(a){var b=[],d={},e=[];return c.utils.objectForEach(a,function f(g){if(!d[g]){var h=c.getBindingHandler(g);h&&(h.after&&(e.push(g),c.utils.arrayForEach(h.after,function(b){if(a[b]){if(c.utils.arrayIndexOf(e,b)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));f(b)}}),e.length--),b.push({key:g,handler:h})),d[g]=!0}}),b}function m(a,b,e,f){var i=c.utils.domData.get(a,k);if(!b){if(i)throw Error("You cannot apply bindings multiple times to the same element.");c.utils.domData.set(a,k,!0)}!i&&f&&c.storedBindingContextForNode(a,e);var j;if(b&&typeof b!="function")j=b;else{var m=c.bindingProvider.instance,n=m.getBindingAccessors||g,o=c.dependentObservable(function(){return j=b?b(e,a):n.call(m,a,e),j&&e._subscribable&&e._subscribable(),j},null,{disposeWhenNodeIsRemoved:a});if(!j||!o.isActive())o=null}var p;if(j){var q=o?function(a){return function(){return d(o()[a])}}:function(a){return j[a]};function r(){return c.utils.objectMap(o?o():j,d)}r.get=function(a){return j[a]&&d(q(a))},r.has=function(a){return a in j};var s=l(j);c.utils.arrayForEach(s,function(b){var d=b.handler.init,f=b.handler.update,g=b.key;a.nodeType===8&&h(g);try{typeof d=="function"&&c.dependencyDetection.ignore(function(){var b=d(a,q(g),r,e.$data,e);if(b&&b.controlsDescendantBindings){if(p!==undefined)throw new Error("Multiple bindings ("+p+" and "+g+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");p=g}}),typeof f=="function"&&c.dependentObservable(function(){f(a,q(g),r,e.$data,e)},null,{disposeWhenNodeIsRemoved:a})}catch(i){throw i.message='Unable to process binding "'+g+": "+j[g]+'"\nMessage: '+i.message,i}})}return{shouldBindDescendants:p===undefined}}function o(a){return a&&a instanceof c.bindingContext?a:new c.bindingContext(a)}c.bindingHandlers={};var a={script:!0,textarea:!0};c.getBindingHandler=function(a){return c.bindingHandlers[a]},c.bindingContext=function(a,b,d,e){function f(){var f=i?a():a,g=c.utils.unwrapObservable(f);return b?(b._subscribable&&b._subscribable(),c.utils.extend(h,b),k&&(h._subscribable=k)):(h.$parents=[],h.$root=g,h.ko=c),h.$rawData=f,h.$data=g,d&&(h[d]=g),e&&e(h,b,g),h.$data}function g(){return j&&!c.utils.anyDomNodeIsAttachedToDocument(j)}var h=this,i=typeof a=="function"&&!c.isObservable(a),j,k=c.dependentObservable(f,null,{disposeWhen:g,disposeWhenNodeIsRemoved:!0});k.isActive()&&(h._subscribable=k,k.equalityComparer=null,j=[],k._addNode=function(a){j.push(a),c.utils.domNodeDisposal.addDisposeCallback(a,function(a){c.utils.arrayRemoveItem(j,a),j.length||(k.dispose(),h._subscribable=k=undefined)})})},c.bindingContext.prototype.createChildContext=function(a,b,d){return new c.bindingContext(a,this,b,function(a,b){a.$parentContext=b,a.$parent=b.$data,a.$parents=(b.$parents||[]).slice(0),a.$parents.unshift(a.$parent),d&&d(a)})},c.bindingContext.prototype.extend=function(a){return new c.bindingContext(this._subscribable||this.$data,this,null,function(b,d){b.$rawData=d.$rawData,c.utils.extend(b,typeof a=="function"?a():a)})};var k=c.utils.domData.nextKey(),n=c.utils.domData.nextKey();c.storedBindingContextForNode=function(a,b){if(arguments.length==2)c.utils.domData.set(a,n,b),b._subscribable&&b._subscribable._addNode(a);else return c.utils.domData.get(a,n)},c.applyBindingAccessorsToNode=function(a,b,d){return a.nodeType===1&&c.virtualElements.normaliseVirtualElementDomStructure(a),m(a,b,o(d),!0)},c.applyBindingsToNode=function(a,b,d){var e=o(d);return c.applyBindingAccessorsToNode(a,f(b,e,a),e)},c.applyBindingsToDescendants=function(a,b){(b.nodeType===1||b.nodeType===8)&&i(o(a),b,!0)},c.applyBindings=function(a,b){!jQueryInstance&&window.jQuery&&(jQueryInstance=window.jQuery);if(b&&b.nodeType!==1&&b.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||window.document.body,j(o(a),b,!0)},c.contextFor=function(a){switch(a.nodeType){case 1:case 8:var b=c.storedBindingContextForNode(a);if(b)return b;if(a.parentNode)return c.contextFor(a.parentNode)}return undefined},c.dataFor=function(a){var b=c.contextFor(a);return b?b.$data:undefined},c.exportSymbol("bindingHandlers",c.bindingHandlers),c.exportSymbol("applyBindings",c.applyBindings),c.exportSymbol("applyBindingsToDescendants",c.applyBindingsToDescendants),c.exportSymbol("applyBindingAccessorsToNode",c.applyBindingAccessorsToNode),c.exportSymbol("applyBindingsToNode",c.applyBindingsToNode),c.exportSymbol("contextFor",c.contextFor),c.exportSymbol("dataFor",c.dataFor)}(),function(a){function e(b,c){return b.hasOwnProperty(c)?b[c]:a}function f(a,f){var h=e(b,a),i;h?h.subscribe(f):(h=b[a]=new c.subscribable,h.subscribe(f),g(a,function(c,e){var f=!!e&&!!e.synchronous;d[a]={definition:c,isSynchronousComponent:f},delete b[a],i||f?h.notifySubscribers(c):setTimeout(function(){h.notifySubscribers(c)},0)}),i=!0)}function g(a,b){h("getConfig",[a],function(c){c?h("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function h(b,d,e,f){f||(f=c.components.loaders.slice(0));var g=f.shift();if(g){var i=g[b];if(i){var j=!1,k=i.apply(g,d.concat(function(a){j?e(null):a!==null?e(a):h(b,d,e,f)}));if(k!==a){j=!0;if(!g.suppressLoaderExceptions)throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}}else h(b,d,e,f)}else e(null)}var b={},d={};c.components={get:function(a,b){var g=e(d,a);g?g.isSynchronousComponent?c.dependencyDetection.ignore(function(){b(g.definition)}):setTimeout(function(){b(g.definition)},0):f(a,b)},clearCachedDefinition:function(a){delete d[a]},_getFirstResultFromLoaders:h},c.components.loaders=[],c.exportSymbol("components",c.components),c.exportSymbol("components.get",c.components.get),c.exportSymbol("components.clearCachedDefinition",c.components.clearCachedDefinition)}(),function(a){function f(a,b,d,f){var g={},h=2,i=function(){--h===0&&f(g)},j=d.template,k=d.viewModel;j?l(b,j,function(b){c.components._getFirstResultFromLoaders("loadTemplate",[a,b],function(a){g.template=a,i()})}):i(),k?l(b,k,function(b){c.components._getFirstResultFromLoaders("loadViewModel",[a,b],function(a){g[e]=a,i()})}):i()}function g(a,b,d){if(typeof b=="string")d(c.utils.parseHtmlFragment(b));else if(b instanceof Array)d(b);else if(k(b))d(c.utils.makeArray(b.childNodes));else if(b.element){var e=b.element;if(j(e))d(i(e));else if(typeof e=="string"){var f=document.getElementById(e);f?d(i(f)):a("Cannot find element with ID "+e)}else a("Unknown element type: "+e)}else a("Unknown template value: "+b)}function h(a,b,c){if(typeof b=="function")c(function(a){return new b(a)});else if(typeof b[e]=="function")c(b[e]);else if("instance"in b){var d=b.instance;c(function(a,b){return d})}else"viewModel"in b?h(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function i(a){switch(c.utils.tagNameLower(a)){case"script":return c.utils.parseHtmlFragment(a.text);case"textarea":return c.utils.parseHtmlFragment(a.value);case"template":if(k(a.content))return c.utils.cloneNodes(a.content.childNodes)}return c.utils.cloneNodes(a.childNodes)}function j(a){return window.HTMLElement?a instanceof HTMLElement:a&&a.tagName&&a.nodeType===1}function k(a){return window.DocumentFragment?a instanceof DocumentFragment:a&&a.nodeType===11}function l(a,c,d){typeof c["require"]=="string"?b||window.require?(b||window.require)([c.require],d):a("Uses require, but no AMD loader is present"):d(c)}function m(a){return function(b){throw new Error("Component '"+a+"': "+b)}}var d={};c.components.register=function(a,b){if(!b)throw new Error("Invalid configuration for "+a);if(c.components.isRegistered(a))throw new Error("Component "+a+" is already registered");d[a]=b},c.components.isRegistered=function(a){return a in d},c.components.unregister=function(a){delete d[a],c.components.clearCachedDefinition(a)},c.components.defaultLoader={getConfig:function(a,b){var c=d.hasOwnProperty(a)?d[a]:null;b(c)},loadComponent:function(a,b,c){var d=m(a);l(d,b,function(b){f(a,d,b,c)})},loadTemplate:function(a,b,c){g(m(a),b,c)},loadViewModel:function(a,b,c){h(m(a),b,c)}};var e="createViewModel";c.exportSymbol("components.register",c.components.register),c.exportSymbol("components.isRegistered",c.components.isRegistered),c.exportSymbol("components.unregister",c.components.unregister),c.exportSymbol("components.defaultLoader",c.components.defaultLoader),c.components.loaders.push(c.components.defaultLoader),c.components._allRegisteredComponents=d}(),function(a){function d(a,d){var e=a.getAttribute("params");if(e){var f=b.parseBindingsString(e,d,a,{valueAccessors:!0,bindingParams:!0}),g=c.utils.objectMap(f,function(b,d){return c.computed(b,null,{disposeWhenNodeIsRemoved:a})}),h=c.utils.objectMap(g,function(b,d){var e=b.peek();return b.isActive()?c.computed({read:function(){return c.utils.unwrapObservable(b())},write:c.isWriteableObservable(e)&&function(a){b()(a)},disposeWhenNodeIsRemoved:a}):e});return h.hasOwnProperty("$raw")||(h.$raw=g),h}return{$raw:{}}}c.components.getComponentNameForNode=function(a){var b=c.utils.tagNameLower(a);return c.components.isRegistered(b)&&b},c.components.addBindingsForCustomElement=function(a,b,e,f){if(b.nodeType===1){var g=c.components.getComponentNameForNode(b);if(g){a=a||{};if(a.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var h={name:g,params:d(b,e)};a.component=f?function(){return h}:h}}return a};var b=new c.bindingProvider;c.utils.ieVersion<9&&(c.components.register=function(a){return function(b){return document.createElement(b),a.apply(this,arguments)}}(c.components.register),document.createDocumentFragment=function(a){return function(){var b=a(),d=c.components._allRegisteredComponents;for(var e in d)d.hasOwnProperty(e)&&b.createElement(e);return b}}(document.createDocumentFragment))}(),function(a){function d(a,b,d){var e=b.template;if(!e)throw new Error("Component '"+a+"' has no template");var f=c.utils.cloneNodes(e);c.virtualElements.setDomNodeChildren(d,f)}function e(a,b,c,d){var e=a.createViewModel;return e?e.call(a,d,{element:b,templateNodes:c}):d}var b=0;c.bindingHandlers.component={init:function(f,g,h,i,j){var k,l,m=function(){var a=k&&k.dispose;typeof a=="function"&&a.call(k),l=null},n=c.utils.makeArray(c.virtualElements.childNodes(f));return c.utils.domNodeDisposal.addDisposeCallback(f,m),c.computed(function(){var h=c.utils.unwrapObservable(g()),i,o;typeof h=="string"?i=h:(i=c.utils.unwrapObservable(h.name),o=c.utils.unwrapObservable(h.params));if(!i)throw new Error("No component name specified");var p=l=++b;c.components.get(i,function(b){if(l!==p)return;m();if(!b)throw new Error("Unknown component '"+i+"'");d(i,b,f);var g=e(b,f,n,o),h=j.createChildContext(g,a,function(a){a.$component=g,a.$componentTemplateNodes=n});k=g,c.applyBindingsToDescendants(h,f)})},null,{disposeWhenNodeIsRemoved:f}),{controlsDescendantBindings:!0}}},c.virtualElements.allowedBindings.component=!0}();var n={"class":"className","for":"htmlFor"};c.bindingHandlers.attr={update:function(a,b,d){var e=c.utils.unwrapObservable(b())||{};c.utils.objectForEach(e,function(b,d){d=c.utils.unwrapObservable(d);var e=d===!1||d===null||d===undefined;e&&a.removeAttribute(b),c.utils.ieVersion<=8&&b in n?(b=n[b],e?a.removeAttribute(b):a[b]=d):e||a.setAttribute(b,d.toString()),b==="name"&&c.utils.setElementName(a,e?"":d.toString())})}},function(){c.bindingHandlers.checked={after:["value","attr"],init:function(a,b,d){function f(){var f=a.checked,g=l?e():f;if(c.computedContext.isInitial())return;if(i&&!f)return;var h=c.dependencyDetection.ignore(b);j?k!==g?(f&&(c.utils.addOrRemoveItem(h,g,!0),c.utils.addOrRemoveItem(h,k,!1)),k=g):c.utils.addOrRemoveItem(h,g,f):c.expressionRewriting.writeValueToProperty(h,d,"checked",g,!0)}function g(){var d=c.utils.unwrapObservable(b());j?a.checked=c.utils.arrayIndexOf(d,e())>=0:h?a.checked=d:a.checked=e()===d}var e=c.pureComputed(function(){return d.has("checkedValue")?c.utils.unwrapObservable(d.get("checkedValue")):d.has("value")?c.utils.unwrapObservable(d.get("value")):a.value}),h=a.type=="checkbox",i=a.type=="radio";if(!h&&!i)return;var j=h&&c.utils.unwrapObservable(b())instanceof Array,k=j?e():undefined,l=i||j;i&&!a.name&&c.bindingHandlers.uniqueName.init(a,function(){return!0}),c.computed(f,null,{disposeWhenNodeIsRemoved:a}),c.utils.registerEventHandler(a,"click",f),c.computed(g,null,{disposeWhenNodeIsRemoved:a})}},c.expressionRewriting.twoWayBindings.checked=!0,c.bindingHandlers.checkedValue={update:function(a,b){a.value=c.utils.unwrapObservable(b())}}}();var o="__ko__cssValue";c.bindingHandlers.css={update:function(a,b){var d=c.utils.unwrapObservable(b());d!==null&&typeof d=="object"?c.utils.objectForEach(d,function(b,d){d=c.utils.unwrapObservable(d),c.utils.toggleDomNodeCssClass(a,b,d)}):(d=String(d||""),c.utils.toggleDomNodeCssClass(a,a[o],!1),a[o]=d,c.utils.toggleDomNodeCssClass(a,d,!0))}},c.bindingHandlers.enable={update:function(a,b){var d=c.utils.unwrapObservable(b());d&&a.disabled?a.removeAttribute("disabled"):!d&&!a.disabled&&(a.disabled=!0)}},c.bindingHandlers.disable={update:function(a,b){c.bindingHandlers.enable.update(a,function(){return!c.utils.unwrapObservable(b())})}},c.bindingHandlers.event={init:function(a,b,d,e,f){var g=b()||{};c.utils.objectForEach(g,function(g){typeof g=="string"&&c.utils.registerEventHandler(a,g,function(a){var h,i=b()[g];if(!i)return;try{var j=c.utils.makeArray(arguments);e=f.$data,j.unshift(e),h=i.apply(e,j)}finally{h!==!0&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}var k=d.get(g+"Bubble")!==!1;k||(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())})})}},c.bindingHandlers.foreach={makeTemplateValueAccessor:function(a){return function(){var b=a(),d=c.utils.peekObservable(b);return!d||typeof d.length=="number"?{foreach:b,templateEngine:c.nativeTemplateEngine.instance}:(c.utils.unwrapObservable(b),{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:c.nativeTemplateEngine.instance})}},init:function(a,b,d,e,f){return c.bindingHandlers.template.init(a,c.bindingHandlers.foreach.makeTemplateValueAccessor(b))},update:function(a,b,d,e,f){return c.bindingHandlers.template.update(a,c.bindingHandlers.foreach.makeTemplateValueAccessor(b),d,e,f)}},c.expressionRewriting.bindingRewriteValidators.foreach=!1,c.virtualElements.allowedBindings.foreach=!0;var q="__ko_hasfocusUpdating",r="__ko_hasfocusLastValue";c.bindingHandlers.hasfocus={init:function(a,b,d){var e=function(e){a[q]=!0;var f=a.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(h){g=f.body}e=g===a}var i=b();c.expressionRewriting.writeValueToProperty(i,d,"hasfocus",e,!0),a[r]=e,a[q]=!1},f=e.bind(null,!0),g=e.bind(null,!1);c.utils.registerEventHandler(a,"focus",f),c.utils.registerEventHandler(a,"focusin",f),c.utils.registerEventHandler(a,"blur",g),c.utils.registerEventHandler(a,"focusout",g)},update:function(a,b){var d=!!c.utils.unwrapObservable(b());!a[q]&&a[r]!==d&&(d?a.focus():a.blur(),c.dependencyDetection.ignore(c.utils.triggerEvent,null,[a,d?"focusin":"focusout"]))}},c.expressionRewriting.twoWayBindings.hasfocus=!0,c.bindingHandlers.hasFocus=c.bindingHandlers.hasfocus,c.expressionRewriting.twoWayBindings.hasFocus=!0,c.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){c.utils.setHtml(a,b())}},s("if"),s("ifnot",!1,!0),s("with",!0,!1,function(a,b){return a.createChildContext(b)});var t={};c.bindingHandlers.options={init:function(a){if(c.utils.tagNameLower(a)!=="select")throw new Error("options binding applies only to SELECT elements");while(a.length>0)a.remove(0);return{controlsDescendantBindings:!0}},update:function(a,b,d){function e(){return c.utils.arrayFilter(a.options,function(a){return a.selected})}function p(a,b,c){var d=typeof b;return d=="function"?b(a):d=="string"?a[b]:c}function r(b,e,f){f.length&&(o=!j&&f[0].selected?[c.selectExtensions.readValue(f[0])]:[],q=!0);var g=a.ownerDocument.createElement("option");if(b===t)c.utils.setTextContent(g,d.get("optionsCaption")),c.selectExtensions.writeValue(g,undefined);else{var h=p(b,d.get("optionsValue"),b);c.selectExtensions.writeValue(g,c.utils.unwrapObservable(h));var i=p(b,d.get("optionsText"),h);c.utils.setTextContent(g,i)}return[g]}function s(b,e){if(q&&j)c.selectExtensions.writeValue(a,c.utils.unwrapObservable(d.get("value")),!0);else if(o.length){var f=c.utils.arrayIndexOf(o,c.selectExtensions.readValue(e[0]))>=0;c.utils.setOptionNodeSelectionState(e[0],f),q&&!f&&c.dependencyDetection.ignore(c.utils.triggerEvent,null,[a,"change"])}}var f=a.length==0,g=a.multiple,h=!f&&g?a.scrollTop:null,i=c.utils.unwrapObservable(b()),j=d.get("valueAllowUnset")&&d.has("value"),k=d.get("optionsIncludeDestroyed"),l={},m,n,o=[];j||(g?o=c.utils.arrayMap(e(),c.selectExtensions.readValue):a.selectedIndex>=0&&o.push(c.selectExtensions.readValue(a.options[a.selectedIndex]))),i&&(typeof i.length=="undefined"&&(i=[i]),n=c.utils.arrayFilter(i,function(a){return k||a===undefined||a===null||!c.utils.unwrapObservable(a._destroy)}),d.has("optionsCaption")&&(m=c.utils.unwrapObservable(d.get("optionsCaption")),m!==null&&m!==undefined&&n.unshift(t)));var q=!1;l.beforeRemove=function(b){a.removeChild(b)};var u=s;d.has("optionsAfterRender")&&typeof d.get("optionsAfterRender")=="function"&&(u=function(a,b){s(a,b),c.dependencyDetection.ignore(d.get("optionsAfterRender"),null,[b[0],a!==t?a:undefined])}),c.utils.setDomNodeChildrenFromArrayMapping(a,n,r,l,u),c.dependencyDetection.ignore(function(){if(j)c.selectExtensions.writeValue(a,c.utils.unwrapObservable(d.get("value")),!0);else{var b;g?b=o.length&&e().length<o.length:b=o.length&&a.selectedIndex>=0?c.selectExtensions.readValue(a.options[a.selectedIndex])!==o[0]:o.length||a.selectedIndex>=0,b&&c.utils.triggerEvent(a,"change")}}),c.utils.ensureSelectElementIsRenderedCorrectly(a),h&&Math.abs(h-a.scrollTop)>20&&(a.scrollTop=h)}},c.bindingHandlers.options.optionValueDomDataKey=c.utils.domData.nextKey(),c.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(a,b,d){c.utils.registerEventHandler(a,"change",function(){var e=b(),f=[];c.utils.arrayForEach(a.getElementsByTagName("option"),function(a){a.selected&&f.push(c.selectExtensions.readValue(a))}),c.expressionRewriting.writeValueToProperty(e,d,"selectedOptions",f)})},update:function(a,b){if(c.utils.tagNameLower(a)!="select")throw new Error("values binding applies only to SELECT elements");var d=c.utils.unwrapObservable(b());d&&typeof d.length=="number"&&c.utils.arrayForEach(a.getElementsByTagName("option"),function(a){var b=c.utils.arrayIndexOf(d,c.selectExtensions.readValue(a))>=0;c.utils.setOptionNodeSelectionState(a,b)})}},c.expressionRewriting.twoWayBindings.selectedOptions=!0,c.bindingHandlers.style={update:function(a,b){var d=c.utils.unwrapObservable(b()||{});c.utils.objectForEach(d,function(b,d){d=c.utils.unwrapObservable(d);if(d===null||d===undefined||d===!1)d="";a.style[b]=d})}},c.bindingHandlers.submit={init:function(a,b,d,e,f){if(typeof b()!="function")throw new Error("The value for a submit binding must be a function");c.utils.registerEventHandler(a,"submit",function(c){var d,e=b();try{d=e.call(f.$data,a)}finally{d!==!0&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}})}},c.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){c.utils.setTextContent(a,b())}},c.virtualElements.allowedBindings.text=!0,function(){if(window&&window.navigator)var a=function(a){if(a)return parseFloat(a[1])},b=window.opera&&window.opera.version&&parseInt(window.opera.version()),d=window.navigator.userAgent,e=a(d.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),f=a(d.match(/Firefox\/([^ ]*)/));if(c.utils.ieVersion<10)var g=c.utils.domData.nextKey(),h=c.utils.domData.nextKey(),i=function(a){var b=this.activeElement,d=b&&c.utils.domData.get(b,h);d&&d(a)},j=function(a,b){var d=a.ownerDocument;c.utils.domData.get(d,g)||(c.utils.domData.set(d,g,!0),c.utils.registerEventHandler(d,"selectionchange",i)),c.utils.domData.set(a,h,b)};c.bindingHandlers.textInput={init:function(a,d,g){var h=a.value,i,k,l=function(b){clearTimeout(i),k=i=undefined;var e=a.value;h!==e&&(DEBUG&&b&&(a._ko_textInputProcessedEvent=b.type),h=e,c.expressionRewriting.writeValueToProperty(d(),g,"textInput",e))},m=function(b){if(!i){k=a.value;var c=DEBUG?l.bind(a,{type:b.type}):l;i=setTimeout(c,4)}},n=function(){var b=c.utils.unwrapObservable(d());if(b===null||b===undefined)b="";if(k!==undefined&&b===k){setTimeout(n,4);return}a.value!==b&&(h=b,a.value=b)},o=function(b,d){c.utils.registerEventHandler(a,b,d)};DEBUG&&c.bindingHandlers.textInput._forceUpdateOn?c.utils.arrayForEach(c.bindingHandlers.textInput._forceUpdateOn,function(a){a.slice(0,5)=="after"?o(a.slice(5),m):o(a,l)}):c.utils.ieVersion<10?(o("propertychange",function(a){a.propertyName==="value"&&l(a)}),c.utils.ieVersion==8&&(o("keyup",l),o("keydown",l)),c.utils.ieVersion>=8&&(j(a,l),o("dragend",m))):(o("input",l),e<5&&c.utils.tagNameLower(a)==="textarea"?(o("keydown",m),o("paste",m),o("cut",m)):b<11?o("keydown",m):f<4&&(o("DOMAutoComplete",l),o("dragdrop",l),o("drop",l))),o("change",l),c.computed(n,null,{disposeWhenNodeIsRemoved:a})}},c.expressionRewriting.twoWayBindings.textInput=!0,c.bindingHandlers.textinput={preprocess:function(a,b,c){c("textInput",a)}}}(),c.bindingHandlers.uniqueName={init:function(a,b){if(b()){var d="ko_unique_"+ ++c.bindingHandlers.uniqueName.currentIndex;c.utils.setElementName(a,d)}}},c.bindingHandlers.uniqueName.currentIndex=0,c.bindingHandlers.value={after:["options","foreach"],init:function(a,b,d){if(a.tagName.toLowerCase()=="input"&&(a.type=="checkbox"||a.type=="radio")){c.applyBindingAccessorsToNode(a,{checkedValue:b});return}var e=["change"],f=d.get("valueUpdate"),g=!1,h=null;f&&(typeof f=="string"&&(f=[f]),c.utils.arrayPushAll(e,f),e=c.utils.arrayGetDistinctValues(e));var i=function(){h=null,g=!1;var e=b(),f=c.selectExtensions.readValue(a);c.expressionRewriting.writeValueToProperty(e,d,"value",f)},j=c.utils.ieVersion&&a.tagName.toLowerCase()=="input"&&a.type=="text"&&a.autocomplete!="off"&&(!a.form||a.form.autocomplete!="off");j&&c.utils.arrayIndexOf(e,"propertychange")==-1&&(c.utils.registerEventHandler(a,"propertychange",function(){g=!0}),c.utils.registerEventHandler(a,"focus",function(){g=!1}),c.utils.registerEventHandler(a,"blur",function(){g&&i()})),c.utils.arrayForEach(e,function(b){var d=i;c.utils.stringStartsWith(b,"after")&&(d=function(){h=c.selectExtensions.readValue(a),setTimeout(i,0)},b=b.substring("after".length)),c.utils.registerEventHandler(a,b,d)});var k=function(){var e=c.utils.unwrapObservable(b()),f=c.selectExtensions.readValue(a);if(h!==null&&e===h){setTimeout(k,0);return}var g=e!==f;if(g)if(c.utils.tagNameLower(a)==="select"){var i=d.get("valueAllowUnset"),j=function(){c.selectExtensions.writeValue(a,e,i)};j(),!i&&e!==c.selectExtensions.readValue(a)?c.dependencyDetection.ignore(c.utils.triggerEvent,null,[a,"change"]):setTimeout(j,0)}else c.selectExtensions.writeValue(a,e)};c.computed(k,null,{disposeWhenNodeIsRemoved:a})},update:function(){}},c.expressionRewriting.twoWayBindings.value=!0,c.bindingHandlers.visible={update:function(a,b){var d=c.utils.unwrapObservable(b()),e=a.style.display!="none";d&&!e?a.style.display="":!d&&e&&(a.style.display="none")}},p("click"),c.templateEngine=function(){},c.templateEngine.prototype.renderTemplateSource=function(a,b,c,d){throw new Error("Override renderTemplateSource")},c.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(a){throw new Error("Override createJavaScriptEvaluatorBlock")},c.templateEngine.prototype.makeTemplateSource=function(a,b){if(typeof a=="string"){b=b||document;var d=b.getElementById(a);if(!d)throw new Error("Cannot find template with ID "+a);return new c.templateSources.domElement(d)}if(a.nodeType==1||a.nodeType==8)return new c.templateSources.anonymousTemplate(a);throw new Error("Unknown template type: "+a)},c.templateEngine.prototype.renderTemplate=function(a,b,c,d){var e=this.makeTemplateSource(a,d);return this.renderTemplateSource(e,b,c,d)},c.templateEngine.prototype.isTemplateRewritten=function(a,b){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(a,b).data("isRewritten")},c.templateEngine.prototype.rewriteTemplate=function(a,b,c){var d=this.makeTemplateSource(a,c),e=b(d.text());d.text(e),d.data("isRewritten",!0)},c.exportSymbol("templateEngine",c.templateEngine),c.templateRewriting=function(){function d(a){var b=c.expressionRewriting.bindingRewriteValidators;for(var d=0;d<a.length;d++){var e=a[d].key;if(b.hasOwnProperty(e)){var f=b[e];if(typeof f=="function"){var g=f(a[d].value);if(g)throw new Error(g)}else if(!f)throw new Error("This template engine does not support the '"+e+"' binding within its templates")}}}function e(a,b,e,f){var g=c.expressionRewriting.parseObjectLiteral(a);d(g);var h=c.expressionRewriting.preProcessBindings(g,{valueAccessors:!0}),i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+h+" } })()},'"+e.toLowerCase()+"')";return f.createJavaScriptEvaluatorBlock(i)+b}var a=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,b=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(a,b,d){b.isTemplateRewritten(a,d)||b.rewriteTemplate(a,function(a){return c.templateRewriting.memoizeBindingAttributeSyntax(a,b)},d)},memoizeBindingAttributeSyntax:function(c,d){return c.replace(a,function(){return e(arguments[4],arguments[1],arguments[2],d)}).replace(b,function(){return e(arguments[1],"<!-- ko -->","#comment",d)})},applyMemoizedBindingsToNextSibling:function(a,b){return c.memoization.memoize(function(d,e){var f=d.nextSibling;f&&f.nodeName.toLowerCase()===b&&c.applyBindingAccessorsToNode(f,a,e)})}}}(),c.exportSymbol("__tr_ambtns",c.templateRewriting.applyMemoizedBindingsToNextSibling),function(){c.templateSources={},c.templateSources.domElement=function(a){this.domElement=a},c.templateSources.domElement.prototype.text=function(){var a=c.utils.tagNameLower(this.domElement),b=a==="script"?"text":a==="textarea"?"value":"innerHTML";if(arguments.length==0)return this.domElement[b];var d=arguments[0];b==="innerHTML"?c.utils.setHtml(this.domElement,d):this.domElement[b]=d};var a=c.utils.domData.nextKey()+"_";c.templateSources.domElement.prototype.data=function(b){if(arguments.length===1)return c.utils.domData.get(this.domElement,a+b);c.utils.domData.set(this.domElement,a+b,arguments[1])};var b=c.utils.domData.nextKey();c.templateSources.anonymousTemplate=function(a){this.domElement=a},c.templateSources.anonymousTemplate.prototype=new c.templateSources.domElement,c.templateSources.anonymousTemplate.prototype.constructor=c.templateSources.anonymousTemplate,c.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var a=c.utils.domData.get(this.domElement,b)||{};return a.textData===undefined&&a.containerData&&(a.textData=a.containerData.innerHTML),a.textData}var d=arguments[0];c.utils.domData.set(this.domElement,b,{textData:d})},c.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var a=c.utils.domData.get(this.domElement,b)||{};return a.containerData}var d=arguments[0];c.utils.domData.set(this.domElement,b,{containerData:d})},c.exportSymbol("templateSources",c.templateSources),c.exportSymbol("templateSources.domElement",c.templateSources.domElement),c.exportSymbol("templateSources.anonymousTemplate",c.templateSources.anonymousTemplate)}(),function(){function b(a,b,d){var e,f=a,g=c.virtualElements.nextSibling(b);while(f&&(e=f)!==g)f=c.virtualElements.nextSibling(e),d(e,f)}function d(a,d){if(a.length){var e=a[0],f=a[a.length-1],g=e.parentNode,h=c.bindingProvider.instance,i=h.preprocessNode;if(i){b(e,f,function(a,b){var c=a.previousSibling,d=i.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))}),a.length=0;if(!e)return;e===f?a.push(e):(a.push(e,f),c.utils.fixUpContinuousNodeArray(a,g))}b(e,f,function(a){(a.nodeType===1||a.nodeType===8)&&c.applyBindings(d,a)}),b(e,f,function(a){(a.nodeType===1||a.nodeType===8)&&c.memoization.unmemoizeDomNodeAndDescendants(a,[d])}),c.utils.fixUpContinuousNodeArray(a,g)}}function e(a){return a.nodeType?a:a.length>0?a[0]:null}function f(b,f,g,h,i){i=i||{};var j=b&&e(b),k=(j||g||{}).ownerDocument,l=i.templateEngine||a;c.templateRewriting.ensureTemplateIsRewritten(g,l,k);var m=l.renderTemplate(g,h,i,k);if(typeof m.length!="number"||m.length>0&&typeof m[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");var n=!1;switch(f){case"replaceChildren":c.virtualElements.setDomNodeChildren(b,m),n=!0;break;case"replaceNode":c.utils.replaceDomNodes(b,m),n=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+f)}return n&&(d(m,h),i.afterRender&&c.dependencyDetection.ignore(i.afterRender,null,[m,h.$data])),m}function g(a,b,d){return c.isObservable(a)?a():typeof a=="function"?a(b,d):a}function i(a,b){var d=c.utils.domData.get(a,h);d&&typeof d.dispose=="function"&&d.dispose(),c.utils.domData.set(a,h,b&&b.isActive()?b:undefined)}var a;c.setTemplateEngine=function(b){if(b==undefined||b instanceof c.templateEngine)a=b;else throw new Error("templateEngine must inherit from ko.templateEngine")},c.renderTemplate=function(b,d,h,i,j){h=h||{};if((h["templateEngine"]||a)==undefined)throw new Error("Set a template engine before calling renderTemplate");j=j||"replaceChildren";if(i){var k=e(i),l=function(){return!k||!c.utils.domNodeIsAttachedToDocument(k)},m=k&&j=="replaceNode"?k.parentNode:k;return c.dependentObservable(function(){var a=d&&d instanceof c.bindingContext?d:new c.bindingContext(c.utils.unwrapObservable(d)),l=g(b,a.$data,a),m=f(i,j,l,a,h);j=="replaceNode"&&(i=m,k=e(i))},null,{disposeWhen:l,disposeWhenNodeIsRemoved:m})}return c.memoization.memoize(function(a){c.renderTemplate(b,d,h,a,"replaceNode")})},c.renderTemplateForEach=function(a,b,e,h,i){var j,k=function(b,c){j=i.createChildContext(b,e.as,function(a){a.$index=c});var d=g(a,b,j);return f(null,"ignoreTargetNode",d,j,e)},l=function(a,b,c){d(b,j),e.afterRender&&e.afterRender(b,a),j=null};return c.dependentObservable(function(){var a=c.utils.unwrapObservable(b)||[];typeof a.length=="undefined"&&(a=[a]);var d=c.utils.arrayFilter(a,function(a){return e.includeDestroyed||a===undefined||a===null||!c.utils.unwrapObservable(a._destroy)});c.dependencyDetection.ignore(c.utils.setDomNodeChildrenFromArrayMapping,null,[h,d,k,e,l])},null,{disposeWhenNodeIsRemoved:h})};var h=c.utils.domData.nextKey();c.bindingHandlers.template={init:function(a,b){var d=c.utils.unwrapObservable(b());if(typeof d=="string"||d.name)c.virtualElements.emptyNode(a);else if("nodes"in d){var e=d.nodes||[];if(c.isObservable(e))throw new Error('The "nodes" option must be a plain, non-observable array.');var f=c.utils.moveCleanedNodesToContainerElement(e);(new c.templateSources.anonymousTemplate(a)).nodes(f)}else{var g=c.virtualElements.childNodes(a),f=c.utils.moveCleanedNodesToContainerElement(g);(new c.templateSources.anonymousTemplate(a)).nodes(f)}return{controlsDescendantBindings:!0}},update:function(a,b,d,e,f){var g=b(),h,j=c.utils.unwrapObservable(g),k=!0,l=null,m;typeof j=="string"?(m=g,j={}):(m=j.name,"if"in j&&(k=c.utils.unwrapObservable(j["if"])),k&&"ifnot"in j&&(k=!c.utils.unwrapObservable(j.ifnot)),h=c.utils.unwrapObservable(j.data));if("foreach"in j){var n=k&&j.foreach||[];l=c.renderTemplateForEach(m||a,n,j,a,f)}else if(!k)c.virtualElements.emptyNode(a);else{var o="data"in j?f.createChildContext(h,j.as):f;l=c.renderTemplate(m||a,o,j,a)}i(a,l)}},c.expressionRewriting.bindingRewriteValidators.template=function(a){var b=c.expressionRewriting.parseObjectLiteral(a);return b.length==1&&b[0].unknown?null:c.expressionRewriting.keyValueArrayContainsKey(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"},c.virtualElements.allowedBindings.template=!0}(),c.exportSymbol("setTemplateEngine",c.setTemplateEngine),c.exportSymbol("renderTemplate",c.renderTemplate),c.utils.findMovesInArrayComparison=function(a,b,c){if(a.length&&b.length){var d,e,f,g,h;for(d=e=0;(!c||d<c)&&(g=a[e]);++e){for(f=0;h=b[f];++f)if(g.value===h.value){g.moved=h.index,h.moved=g.index,b.splice(f,1),d=f=0;break}d+=f}}},c.utils.compareArrays=function(){function d(c,d,f){return f=typeof f=="boolean"?{dontLimitMoves:f}:f||{},c=c||[],d=d||[],c.length<=d.length?e(c,d,a,b,f):e(d,c,b,a,f)}function e(a,b,d,e,f){var g=Math.min,h=Math.max,i=[],j,k=a.length,l,m=b.length,n=m-k||1,o=k+m+1,p,q,r,s;for(j=0;j<=k;j++){q=p,i.push(p=[]),r=g(m,j+n),s=h(0,j-1);for(l=s;l<=r;l++)if(!l)p[l]=j+1;else if(!j)p[l]=l+1;else if(a[j-1]===b[l-1])p[l]=q[l-1];else{var t=q[l]||o,u=p[l-1]||o;p[l]=g(t,u)+1}}var v=[],w,x=[],y=[];for(j=k,l=m;j||l;)w=i[j][l]-1,l&&w===i[j][l-1]?x.push(v[v.length]={status:d,value:b[--l],index:l}):j&&w===i[j-1][l]?y.push(v[v.length]={status:e,value:a[--j],index:j}):(--l,--j,f.sparse||v.push({status:"retained",value:b[l]}));return c.utils.findMovesInArrayComparison(x,y,k*10),v.reverse()}var a="added",b="deleted";return d}(),c.exportSymbol("utils.compareArrays",c.utils.compareArrays),function(){function a(a,b,d,e,f){var g=[],h=c.dependentObservable(function(){var h=b(d,f,c.utils.fixUpContinuousNodeArray(g,a))||[];g.length>0&&(c.utils.replaceDomNodes(g,h),e&&c.dependencyDetection.ignore(e,null,[d,h,f])),g.length=0,c.utils.arrayPushAll(g,h)},null,{disposeWhenNodeIsRemoved:a,disposeWhen:function(){return!c.utils.anyDomNodeIsAttachedToDocument(g)}});return{mappedNodes:g,dependentObservable:h.isActive()?h:undefined}}var b=c.utils.domData.nextKey();c.utils.setDomNodeChildrenFromArrayMapping=function(d,e,f,g,h){function v(a,b){u=j[b],o!==b&&(s[a]=u),u.indexObservable(o++),c.utils.fixUpContinuousNodeArray(u.mappedNodes,d),m.push(u),q.push(u)}function w(a,b){if(a)for(var d=0,e=b.length;d<e;d++)b[d]&&c.utils.arrayForEach(b[d].mappedNodes,function(c){a(c,d,b[d].arrayEntry)})}e=e||[],g=g||{};var i=c.utils.domData.get(d,b)===undefined,j=c.utils.domData.get(d,b)||[],k=c.utils.arrayMap(j,function(a){return a.arrayEntry}),l=c.utils.compareArrays(k,e,g.dontLimitMoves),m=[],n=0,o=0,p=[],q=[],r=[],s=[],t=[],u;for(var x=0,y,z;y=l[x];x++){z=y.moved;switch(y.status){case"deleted":z===undefined&&(u=j[n],u.dependentObservable&&u.dependentObservable.dispose(),p.push.apply(p,c.utils.fixUpContinuousNodeArray(u.mappedNodes,d)),g.beforeRemove&&(r[x]=u,q.push(u))),n++;break;case"retained":v(x,n++);break;case"added":z!==undefined?v(x,z):(u={arrayEntry:y.value,indexObservable:c.observable(o++)},m.push(u),q.push(u),i||(t[x]=u))}}w(g.beforeMove,s),c.utils.arrayForEach(p,g.beforeRemove?c.cleanNode:c.removeNode);for(var x=0,A=c.virtualElements.firstChild(d),B,C;u=q[x];x++){u.mappedNodes||c.utils.extend(u,a(d,f,u.arrayEntry,h,u.indexObservable));for(var D=0;C=u.mappedNodes[D];A=C.nextSibling,B=C,D++)C!==A&&c.virtualElements.insertAfter(d,C,B);!u.initialized&&h&&(h(u.arrayEntry,u.mappedNodes,u.indexObservable),u.initialized=!0)}w(g.beforeRemove,r),w(g.afterMove,s),w(g.afterAdd,t),c.utils.domData.set(d,b,m)}}(),c.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",c.utils.setDomNodeChildrenFromArrayMapping),c.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},c.nativeTemplateEngine.prototype=new c.templateEngine,c.nativeTemplateEngine.prototype.constructor=c.nativeTemplateEngine,c.nativeTemplateEngine.prototype.renderTemplateSource=function(a,b,d,e){var f=!(c.utils.ieVersion<9),g=f?a.nodes:null,h=g?a.nodes():null;if(h)return c.utils.makeArray(h.cloneNode(!0).childNodes);var i=a.text();return c.utils.parseHtmlFragment(i,e)},c.nativeTemplateEngine.instance=new c.nativeTemplateEngine,c.setTemplateEngine(c.nativeTemplateEngine.instance),c.exportSymbol("nativeTemplateEngine",c.nativeTemplateEngine),function(){c.jqueryTmplTemplateEngine=function(){function b(){if(a<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function c(a,b,c){return jQueryInstance.tmpl(a,b,c)}var a=this.jQueryTmplVersion=function(){if(!jQueryInstance||!jQueryInstance.tmpl)return 0;try{if(jQueryInstance.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(a){}return 1}();this.renderTemplateSource=function(a,d,e,f){f=f||document,e=e||{},b();var g=a.data("precompiled");if(!g){var h=a.text()||"";h="{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}",g=jQueryInstance.template(null,h),a.data("precompiled",g)}var i=[d.$data],j=jQueryInstance.extend({koBindingContext:d},e.templateOptions),k=c(g,i,j);return k.appendTo(f.createElement("div")),jQueryInstance.fragments={},k},this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"},this.addTemplate=function(a,b){document.write("<script type='text/html' id='"+a+"'>"+b+"<"+"/script>")},a>0&&(jQueryInstance.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQueryInstance.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},c.jqueryTmplTemplateEngine.prototype=new c.templateEngine,c.jqueryTmplTemplateEngine.prototype.constructor=c.jqueryTmplTemplateEngine;var a=new c.jqueryTmplTemplateEngine;a.jQueryTmplVersion>0&&c.setTemplateEngine(a),c.exportSymbol("jqueryTmplTemplateEngine",c.jqueryTmplTemplateEngine)}()})})()})()