var SF=function(){function a(a){return(a=a.attributes?a.attributes.getNamedItem("class"):null)?a.value.split(" "):[]}function b(a){var b=document.createAttribute("class");return b.value=a.join(" "),b}var c={attachListener:function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,function(){c.apply(a,arguments)});else throw Error("Could not attach event.")}};return c.indexOf=function(){var a=Array.prototype.indexOf;return"function"===a?function(b,c){return a.call(b,c)}:function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]===b)return d;return-1}}(),c.accept=function(a,b){var d;a.children?(d=a.children,b(a)):"number"==typeof a.length&&(d=a);for(var e=d?d.length||0:0;e--;)c.accept(d[e],b)},c.getByClass=function(){var a=document.getElementsByClassName;return"function"==typeof a?function(b,c){return"string"==typeof b&&(c=b,b=document),a.call(b,c)}:function(a,b){"string"==typeof a&&(b=a,a=document.getElementsByTagName("html")[0]);var d=[];return c.accept(a,function(a){c.classList.contains(a,b)&&d.push(a)}),d}}(),c.classList={},c.classList.add=function(c,e){var f=a(c);f.push(e),c.attributes.setNamedItem(b(f))},c.classList.remove=function(e,f){var g=a(e,f),h=c.indexOf(g,f);-1!==h&&(g.splice(h,1),e.attributes.setNamedItem(b(g)))},c.classList.contains=function(b,e){return-1!==c.indexOf(a(b),e)},c.classList.toggle=function(a,b){this.contains(a,b)?this.remove(a,b):this.add(a,b)},c}();(function(){function a(a){for(var b in a)delete a[b]}SF.modal=function(b){function c(a){27==a.keyCode&&g.close()}b.modalClass="modal content",b.closeClass="modal-close",b.modalStyles=a,b.closeStyles=a;var e=b.afterCreate,f=b.afterClose;b.afterCreate=function(a){e&&e(a),window.addEventListener("keydown",c)},b.afterClose=function(a){f&&f(a),window.removeEventListener("keydown",c)};var g=(new picoModal(b)).afterCreate(b.afterCreate).afterClose(b.afterClose);return g}})(),function(){for(var a=SF.getByClass("toggler"),b=a.length;b--;)SF.attachListener(a[b],"click",function(){var a=SF.classList.contains(this,"icon-toggler-expanded")||SF.classList.contains(this,"icon-toggler-collapsed"),b=document.getElementById(this.getAttribute("data-for"));SF.classList.toggle(this,"collapsed"),SF.classList.contains(this,"collapsed")?(SF.classList.add(b,"collapsed"),a&&(SF.classList.remove(this,"icon-toggler-expanded"),SF.classList.add(this,"icon-toggler-collapsed"))):(SF.classList.remove(b,"collapsed"),a&&(SF.classList.remove(this,"icon-toggler-collapsed"),SF.classList.add(this,"icon-toggler-expanded")))})}(),function(){for(var a=SF.getByClass("tree-a"),b=a.length;b--;)SF.attachListener(a[b],"click",function(a){a=a.target||a.srcElement,"H2"!==a.nodeName||SF.classList.contains(a,"tree-a-no-sub")||SF.classList.toggle(a,"tree-a-active")})}(),function(a,b){function c(a){return"object"==typeof Node?a instanceof Node:a&&"object"==typeof a&&"number"==typeof a.nodeType}function d(){var a=[];return{watch:a.push.bind(a),trigger:function(b){for(var c=!0,d={preventDefault:function(){c=!1}},e=0;e<a.length;e++)a[e](b,d);return c}}}function e(a){this.elem=a}function f(a,b){return e.div().clazz("pico-overlay").clazz(a("overlayClass","")).stylize({display:"block",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(a("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){a("overlayClose",!0)&&b()})}function g(a,b){var c=a("width","auto");return"number"==typeof c&&(c=""+c+"px"),e.div().clazz("pico-content").clazz(a("modalClass","")).stylize({display:"block",position:"fixed",zIndex:10001,left:"50%",top:"50px",width:c,"-ms-transform":"translateX(-50%)","-moz-transform":"translateX(-50%)","-webkit-transform":"translateX(-50%)","-o-transform":"translateX(-50%)",transform:"translateX(-50%)"}).stylize(a("modalStyles",{backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(a("content")).attr("role","dialog").onClick(function(a){(new e(a.target)).anyAncestor(function(a){return/\bpico-close\b/.test(a.elem.className)})&&b()})}function h(a){return function(){return a().elem}}function i(b){function e(a,c){var d=b[a];return"function"==typeof d&&(d=d(c)),void 0===d?c:d}function i(){v().hide(),u().hide(),s.trigger(x)}function j(){r.trigger(x)&&i()}function k(a){return function(){return a.apply(this,arguments),x}}function l(a){if(!t){var b=g(e,j),c=f(e,j),d;d=e("closeButton",!0)?b.child().html(e("closeHtml","&#xD7;")).clazz("pico-close").clazz(e("closeClass")).stylize(e("closeStyles",{borderRadius:"2px",cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})):void 0,t={modal:b,overlay:c,close:d},m.trigger(x)}return t[a]}if("string"==typeof b||c(b))b={content:b};var m=d(),o=d(),q=d(),r=d(),s=d(),t,u=l.bind(a,"modal"),v=l.bind(a,"overlay"),w=l.bind(a,"close"),x={modalElem:h(u),closeElem:h(w),overlayElem:h(v),show:function(){return o.trigger(x)&&(v().show(),w(),u().show(),q.trigger(x)),this},close:k(j),forceClose:k(i),destroy:function(){u=u().destroy(),v=v().destroy(),w=void 0},options:function(a){b=a},afterCreate:k(m.watch),beforeShow:k(o.watch),afterShow:k(q.watch),beforeClose:k(r.watch),afterClose:k(s.watch)};return x}e.div=function(a){var c=b.createElement("div");return(a||b.body).appendChild(c),new e(c)},e.prototype={child:function(){return e.div(this.elem)},stylize:function(a){a=a||{},"undefined"!=typeof a.opacity&&(a.filter="alpha(opacity="+100*a.opacity+")");for(var b in a)a.hasOwnProperty(b)&&(this.elem.style[b]=a[b]);return this},clazz:function(a){return this.elem.className+=" "+a,this},html:function(a){return c(a)?this.elem.appendChild(a):this.elem.innerHTML=a,this},onClick:function(a){return this.elem.addEventListener("click",a),this},destroy:function(){b.body.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(a,b){return this.elem.setAttribute(a,b),this},anyAncestor:function(a){for(var b=this.elem;b;){if(a(new e(b)))return!0;b=b.parentNode}return!1}},"function"==typeof a.define&&a.define.amd?a.define(function(){return i}):a.picoModal=i}(window,document)