(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.defineMode("javascript",function(b,c){function d(a,b,c){return bw=a,bx=c,b}function e(a,b){var c=a.next();if('"'==c||"'"==c)return b.tokenize=f(c),b.tokenize(a,b);if("."==c&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return d("number","number");if("."==c&&a.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(c))return d(c);if("="==c&&a.eat(">"))return d("=>","operator");if("0"==c&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),d("number","number");if(/\d/.test(c))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),d("number","number");if("/"==c){if(a.eat("*"))return b.tokenize=g,g(a,b);if(a.eat("/"))return a.skipToEnd(),d("comment","comment");if("operator"==b.lastType||"keyword c"==b.lastType||"sof"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)){a:for(var c=!1,e,i=!1;null!=(e=a.next());){if(!c){if("/"==e&&!i)break a;"["==e?i=!0:i&&"]"==e&&(i=!1)}c=!c&&"\\"==e}return a.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),d("regexp","string-2")}return a.eatWhile(bu),d("operator","operator",a.current())}if("`"==c)return b.tokenize=h,h(a,b);if("#"==c)return a.skipToEnd(),d("error","error");if(bu.test(c))return a.eatWhile(bu),d("operator","operator",a.current());if(bs.test(c))return a.eatWhile(bs),c=a.current(),(e=bt.propertyIsEnumerable(c)&&bt[c])&&"."!=b.lastType?d(e.type,e.style,c):d("variable","variable",c)}function f(a){return function(b,c){var f=!1,g;if(bp&&"@"==b.peek()&&b.match(bv))return c.tokenize=e,d("jsonld-keyword","meta");for(;null!=(g=b.next())&&(g!=a||f);)f=!f&&"\\"==g;return f||(c.tokenize=e),d("string","string")}}function g(a,b){for(var c=!1,f;f=a.next();){if("/"==f&&c){b.tokenize=e;break}c="*"==f}return d("comment","comment")}function h(a,b){for(var c=!1,f;null!=(f=a.next());){if(!c&&("`"==f||"$"==f&&a.eat("{"))){b.tokenize=e;break}c=!c&&"\\"==f}return d("quasi","string-2",a.current())}function i(a,b){b.fatArrowAt&&(b.fatArrowAt=null);var c=a.string.indexOf("=>",a.start);if(!(0>c)){for(var d=0,e=!1,c=c-1;0<=c;--c){var f=a.string.charAt(c),g="([{}])".indexOf(f);if(0<=g&&3>g){if(!d){++c;break}if(0==--d)break}else if(3<=g&&6>g)++d;else if(bs.test(f))e=!0;else{if(/["'\/]/.test(f))return;if(e&&!d){++c;break}}}e&&!d&&(b.fatArrowAt=c)}}function j(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function k(){for(var a=arguments.length-1;0<=a;a--)bz.cc.push(arguments[a])}function l(){return k.apply(null,arguments),!0}function m(a){function b(b){for(;b;b=b.next)if(b.name==a)return!0;return!1}var d=bz.state;d.context?(bz.marked="def",b(d.localVars)||(d.localVars={name:a,next:d.localVars})):!b(d.globalVars)&&c.globalVars&&(d.globalVars={name:a,next:d.globalVars})}function n(){bz.state.context={prev:bz.state.context,vars:bz.state.localVars},bz.state.localVars=bA}function o(){bz.state.localVars=bz.state.context.vars,bz.state.context=bz.state.context.prev}function q(a,b){var c=function(){var c=bz.state,d=c.indented;if("stat"==c.lexical.type)d=c.lexical.indented;else for(var e=c.lexical;e&&")"==e.type&&e.align;e=e.prev)d=e.indented;c.lexical=new j(d,bz.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function r(){var a=bz.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function s(a){function b(c){return c==a?l():";"==a?k():l(b)}return b}function t(a,b){return"var"==a?l(q("vardef",b.length),P,s(";"),r):"keyword a"==a?l(q("form"),u,t,r):"keyword b"==a?l(q("form"),t,r):"{"==a?l(q("}"),M,r):";"==a?l():"if"==a?("else"==bz.state.lexical.info&&bz.state.cc[bz.state.cc.length-1]==r&&bz.state.cc.pop()(),l(q("form"),u,t,r,U)):"function"==a?l($):"for"==a?l(q("form"),V,t,r):"variable"==a?l(q("stat"),F):"switch"==a?l(q("form"),u,q("}","switch"),s("{"),M,r,r):"case"==a?l(u,s(":")):"default"==a?l(s(":")):"catch"==a?l(q("form"),n,s("("),_,s(")"),t,r,o):"module"==a?l(q("form"),n,be,o,r):"class"==a?l(q("form"),ba,r):"export"==a?l(q("form"),bf,r):"import"==a?l(q("form"),bg,r):k(q("stat"),u,s(";"),r)}function u(a){return w(a,!1)}function v(a){return w(a,!0)}function w(a,b){if(bz.state.fatArrowAt==bz.stream.start){var c=b?E:D;if("("==a)return l(n,q(")"),K(Q,")"),r,s("=>"),c,o);if("variable"==a)return k(n,Q,s("=>"),c,o)}return c=b?A:z,by.hasOwnProperty(a)?l(c):"function"==a?l($,c):"keyword c"==a?l(b?y:x):"("==a?l(q(")"),x,bm,s(")"),r,c):"operator"==a||"spread"==a?l(b?v:u):"["==a?l(q("]"),bk,r,c):"{"==a?L(H,"}",null,c):"quasi"==a?k(B,c):l()}function x(a){return a.match(/[;\}\)\],]/)?k():k(u)}function y(a){return a.match(/[;\}\)\],]/)?k():k(v)}function z(a,b){return","==a?l(u):A(a,b,!1)}function A(a,b,c){var d=0==c?z:A,e=0==c?u:v;if("=>"==a)return l(n,c?E:D,o);if("operator"==a)return/\+\+|--/.test(b)?l(d):"?"==b?l(u,s(":"),e):l(e);if("quasi"==a)return k(B,d);if(";"!=a){if("("==a)return L(v,")","call",d);if("."==a)return l(G,d);if("["==a)return l(q("]"),x,s("]"),r,d)}}function B(a,b){return"quasi"!=a?k():"${"!=b.slice(b.length-2)?l(B):l(u,C)}function C(a){if("}"==a)return bz.marked="string-2",bz.state.tokenize=h,l(B)}function D(a){return i(bz.stream,bz.state),k("{"==a?t:u)}function E(a){return i(bz.stream,bz.state),k("{"==a?t:v)}function F(a){return":"==a?l(r,t):k(z,s(";"),r)}function G(a){if("variable"==a)return bz.marked="property",l()}function H(a,b){if("variable"==a||"keyword"==bz.style)return bz.marked="property","get"==b||"set"==b?l(I):l(J);if("number"==a||"string"==a)return bz.marked=bp?"property":bz.style+" property",l(J);if("jsonld-keyword"==a)return l(J);if("["==a)return l(u,s("]"),J)}function I(a){return"variable"!=a?k(J):(bz.marked="property",l($))}function J(a){if(":"==a)return l(v);if("("==a)return k($)}function K(a,b){function c(d){return","==d?(d=bz.state.lexical,"call"==d.info&&(d.pos=(d.pos||0)+1),l(a,c)):d==b?l():l(s(b))}return function(d){return d==b?l():k(a,c)}}function L(a,b,c){for(var d=3;d<arguments.length;d++)bz.cc.push(arguments[d]);return l(q(b,c),K(a,b),r)}function M(a){return"}"==a?l():k(t,M)}function N(a){if(br&&":"==a)return l(O)}function O(a){if("variable"==a)return bz.marked="variable-3",l()}function P(){return k(Q,N,S,T)}function Q(a,b){if("variable"==a)return m(b),l();if("["==a)return L(Q,"]");if("{"==a)return L(R,"}")}function R(a,b){return"variable"==a&&!bz.stream.match(/^\s*:/,!1)?(m(b),l(S)):("variable"==a&&(bz.marked="property"),l(s(":"),Q,S))}function S(a,b){if("="==b)return l(v)}function T(a){if(","==a)return l(P)}function U(a,b){if("keyword b"==a&&"else"==b)return l(q("form","else"),t,r)}function V(a){if("("==a)return l(q(")"),W,s(")"),r)}function W(a){return"var"==a?l(P,s(";"),Y):";"==a?l(Y):"variable"==a?l(X):k(u,s(";"),Y)}function X(a,b){return"in"==b||"of"==b?(bz.marked="keyword",l(u)):l(z,Y)}function Y(a,b){return";"==a?l(Z):"in"==b||"of"==b?(bz.marked="keyword",l(u)):k(u,s(";"),Z)}function Z(a){")"!=a&&l(u)}function $(a,b){if("*"==b)return bz.marked="keyword",l($);if("variable"==a)return m(b),l($);if("("==a)return l(n,q(")"),K(_,")"),r,t,o)}function _(a){return"spread"==a?l(_):k(Q,N)}function ba(a,b){if("variable"==a)return m(b),l(bb)}function bb(a,b){if("extends"==b)return l(u,bb);if("{"==a)return l(q("}"),bc,r)}function bc(a,b){if("variable"==a||"keyword"==bz.style)return"static"==b?(bz.marked="keyword",l(bc)):(bz.marked="property","get"==b||"set"==b?l(bd,$,bc):l($,bc));if("*"==b)return bz.marked="keyword",l(bc);if(";"==a)return l(bc);if("}"==a)return l()}function bd(a){return"variable"!=a?k():(bz.marked="property",l())}function be(a,b){if("string"==a)return l(t);if("variable"==a)return m(b),l(bj)}function bf(a,b){return"*"==b?(bz.marked="keyword",l(bj,s(";"))):"default"==b?(bz.marked="keyword",l(u,s(";"))):k(t)}function bg(a){return"string"==a?l():k(bh,bj)}function bh(a,b){return"{"==a?L(bh,"}"):("variable"==a&&m(b),"*"==b&&(bz.marked="keyword"),l(bi))}function bi(a,b){if("as"==b)return bz.marked="keyword",l(bh)}function bj(a,b){if("from"==b)return bz.marked="keyword",l(u)}function bk(a){return"]"==a?l():k(v,bl)}function bl(a){return"for"==a?k(bm,s("]")):","==a?l(K(y,"]")):k(K(v,"]"))}function bm(a){if("for"==a)return l(V,bm);if("if"==a)return l(u,bm)}var bn=b.indentUnit,bo=c.statementIndent,bp=c.jsonld,bq=c.json||bp,br=c.typescript,bs=c.wordCharacters||/[\w$\xa1-\uffff]/,bt=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"},b={"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"debugger":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,"undefined":f,NaN:f,Infinity:f,"this":a("this"),module:a("module"),"class":a("class"),"super":a("atom"),yield:d,"export":a("export"),"import":a("import"),"extends":d};if(br){var c={type:"variable",style:"variable-3"},c={"interface":a("interface"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),string:c,number:c,bool:c,any:c},g;for(g in c)b[g]=c[g]}return b}(),bu=/[+\-*&%=<>!?|~^]/,bv=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,bw,bx,by={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},bz={state:null,column:null,marked:null,cc:null},bA={name:"this",next:{name:"arguments"}};return r.lex=!0,{startState:function(a){return a={tokenize:e,lastType:"sof",cc:[],lexical:new j((a||0)-bn,0,"block",!1),localVars:c.localVars,context:c.localVars&&{vars:c.localVars},indented:0},c.globalVars&&"object"==typeof c.globalVars&&(a.globalVars=c.globalVars),a},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),i(a,b));if(b.tokenize!=g&&a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==bw)return c;b.lastType="operator"!=bw||"++"!=bx&&"--"!=bx?bw:"incdec";a:{var d=bw,e=bx,f=b.cc;bz.state=b,bz.stream=a,bz.marked=null,bz.cc=f,bz.style=c,b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((f.length?f.pop():bq?u:t)(d,e)){for(;f.length&&f[f.length-1].lex;)f.pop()();if(bz.marked){c=bz.marked;break a}if(d="variable"==d)b:{for(d=b.localVars;d;d=d.next)if(d.name==e){d=!0;break b}for(f=b.context;f;f=f.prev)for(d=f.vars;d;d=d.next)if(d.name==e){d=!0;break b}d=void 0}if(d){c="variable-2";break a}break a}}return c},indent:function(b,d){if(b.tokenize==g)return a.Pass;if(b.tokenize!=e)return 0;var f=d&&d.charAt(0),h=b.lexical;if(!/^\s*else\b/.test(d))for(var i=b.cc.length-1;0<=i;--i){var j=b.cc[i];if(j==r)h=h.prev;else if(j!=U)break}return"stat"==h.type&&"}"==f&&(h=h.prev),bo&&")"==h.type&&"stat"==h.prev.type&&(h=h.prev),i=h.type,j=f==i,"vardef"==i?h.indented+("operator"==b.lastType||","==b.lastType?h.info+1:0):"form"==i&&"{"==f?h.indented:"form"==i?h.indented+bn:"stat"==i?(f=h.indented,h="operator"==b.lastType||","==b.lastType||bu.test(d.charAt(0))||/[,.]/.test(d.charAt(0)),f+(h?bo||bn:0)):"switch"!=h.info||j||0==c.doubleIndentSwitch?h.align?h.column+(j?0:1):h.indented+(j?0:bn):h.indented+(/^(?:case|default)\b/.test(d)?bn:2*bn)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:bq?null:"/*",blockCommentEnd:bq?null:"*/",lineComment:bq?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:bq?"json":"javascript",jsonldMode:bp,jsonMode:bq}}),a.registerHelper("wordChars","javascript",/[\w$]/),a.defineMIME("text/javascript","javascript"),a.defineMIME("text/ecmascript","javascript"),a.defineMIME("application/javascript","javascript"),a.defineMIME("application/x-javascript","javascript"),a.defineMIME("application/ecmascript","javascript"),a.defineMIME("application/json",{name:"javascript",json:!0}),a.defineMIME("application/x-json",{name:"javascript",json:!0}),a.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),a.defineMIME("text/typescript",{name:"javascript",typescript:!0}),a.defineMIME("application/typescript",{name:"javascript",typescript:!0})})